(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dfe84ab"],{5769:function(t,e,i){},"5f22":function(t,e,i){"use strict";var n=i("5769"),a=i.n(n);a.a},ae43:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"members u__main-container u__clipped-container mt-3"},[i("company-invite-members-dialog"),i("v-btn",{staticClass:"ma-0 pa-0",attrs:{color:"accent",fab:"",absolute:"",top:"",right:"",icon:""},on:{click:t.setInviteMembersDialogOpen}},[i("v-icon",[t._v("person_add")])],1),i("v-list",{staticClass:"pa-0",attrs:{"two-line":""}},[t._l(t.users,function(e){return[i("v-list-tile",{key:e._id,attrs:{avatar:""}},[i("v-list-tile-avatar",[i("i-user-icon",{attrs:{user:e,size:32}})],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("\n            "+t._s(e.firstName)+"\n            "+t._s(e.lastName)+"\n          ")]),i("v-list-tile-sub-title",[t._v("\n            "+t._s(e.email)+"\n          ")])],1),i("v-list-tile-action",[i("v-select",{staticStyle:{width:"132px"},attrs:{items:t.roles,value:t.getRole(e,t.company._id),dense:"",small:"",solo:""},on:{input:function(i){t.updateRole(i,e._id)}}})],1),i("v-list-tile-action",[i("v-btn",{staticClass:"ma-0 pa-0",attrs:{icon:""}},[i("v-icon",[t._v("close")])],1)],1)],1),i("v-divider",{key:e._id+"-list-divider"})]})],2)],1)},a=[],s=i("c93e"),o=i("2f62"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{value:t.isOpen,width:"375",lazy:"",scrollable:""},on:{input:t.setOpen}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v("\n      Invite Members\n    ")]),i("v-card-text",{attrs:{height:"300"}},[i("v-form",{ref:"inviteForm"},[i("v-container",{attrs:{"pa-0":"","grid-list-md":"",fluid:""}},[i("v-layout",{staticClass:"invite__row",attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-alert",{staticClass:"mb-4",attrs:{value:t.$store.state.invitations.errorOnCreate,type:"error"}},[t._v("\n                "+t._s(t.$store.state.invitations.errorOnCreate?t.$store.state.invitations.errorOnCreate.message:"")+"\n              ")])],1),t._l(t.inviteRows,function(e,n){return i("v-flex",{key:"invitation-"+n,attrs:{xs12:""}},[i("v-card",{staticClass:"invite__card",attrs:{flat:""}},[i("v-container",{attrs:{"grid-list-md":"",fluid:""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{staticClass:"invite__field",staticStyle:{"padding-right":"32px"},attrs:{rules:[t.$rules.email()],autofocus:"","hide-details":"",color:"accent",type:"email",placeholder:"Email"},model:{value:e.email,callback:function(i){t.$set(e,"email",i)},expression:"invitation.email"}})],1)],1)],1),0!==n?i("v-btn",{staticClass:"invite__remove__row__btn",attrs:{small:"",icon:"",flat:""},on:{click:function(e){t.removeRow(n)}}},[i("v-icon",[t._v("close")])],1):t._e()],1)],1)})],2)],1)],1)],1),i("v-card-actions",[i("v-btn",{attrs:{flat:"",color:"accent"},on:{click:t.addRow}},[t._v("Add Another\n      ")])],1),i("v-card-actions",{staticClass:"justify-end"},[i("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){e.stopPropagation(),t.setOpen(!1)}}},[t._v("Cancel\n      ")]),i("v-btn",{attrs:{loading:t.isActionPending,color:"accent",flat:""},on:{click:t.submit}},[t._v("Send Invites\n      ")])],1)],1)],1)},c=[],l=(i("96cf"),i("3040")),v={name:"CompanyInviteMembersDialog",components:{},props:{},data:function(){return{inviteRows:[{email:null,role:null}],emailMatches:[]}},computed:Object(s["a"])({},Object(o["e"])("auth",["actionTypes","roleTypes"]),Object(o["e"])("actions",["isActionPending"]),Object(o["e"])("ui",{isOpen:"isInviteMembersDialogOpen"}),Object(o["c"])("auth",["roles","loggedInUser"]),Object(o["c"])("companies",{company:"current"}),{invitations:function(){var t=this;return this.inviteRows.filter(function(t){return t.email}).map(function(e){return{email:e.email,role:"member",company:t.company._id,invitedBy:t.loggedInUser._id}})}}),watch:{},methods:Object(s["a"])({},Object(o["d"])("ui",{setOpen:"setInviteMembersDialogOpen"}),Object(o["b"])("invitations",{createInvitations:"create"}),Object(o["b"])("companyManagement",["inviteMembers"]),{addRow:function(){this.inviteRows.push({email:null,role:null})},removeRow:function(t){this.inviteRows.splice(t,1)},submit:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$refs.inviteForm.validate()){t.next=4;break}return t.next=3,this.$dispatchAction({type:this.$actionTypes.INVITE_COMPANY_MEMBERS,entity:this.company._id,payload:this.invitations});case 3:this.setOpen(!1);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})},u=v,m=(i("5f22"),i("2877")),p=Object(m["a"])(u,r,c,!1,null,"492f567c",null);p.options.__file="CompanyInviteMembersDialog.vue";var d=p.exports,b={name:"CompanyMembers",components:{CompanyInviteMembersDialog:d},props:{},data:function(){return{}},computed:Object(s["a"])({},Object(o["c"])("auth",["roles"]),Object(o["c"])("users",{users:"list",getRole:"role"}),Object(o["c"])("companies",{company:"current"})),watch:{},created:function(){},methods:Object(s["a"])({},Object(o["d"])("ui",{setInviteMembersDialogOpen:"setInviteMembersDialogOpen"}),Object(o["b"])("users",{editCompanyRole:"editCompanyRole"}),{updateRole:function(t,e){this.editCompanyRole({companyId:this.company._id,role:t,userId:e})}})},f=b,_=(i("b7b4"),Object(m["a"])(f,n,a,!1,null,"04476c66",null));_.options.__file="CompanyMembers.vue";e["default"]=_.exports},b7b4:function(t,e,i){"use strict";var n=i("df69"),a=i.n(n);a.a},df69:function(t,e,i){}}]);
//# sourceMappingURL=chunk-3dfe84ab.72801628.js.map