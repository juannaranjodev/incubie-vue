(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a3ed19d"],{"2cce":function(t,e,n){},"594f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[["settings"].indexOf(t.$route.name)>-1?n("v-toolbar",{staticClass:"toolbar hidden-xs-only",attrs:{dark:"",color:"secondary lighten-1",flat:""}},[n("v-toolbar-title",{staticClass:"subheading"},[t._v("\n      "+t._s(t.board.name)+"\n    ")])],1):t._e(),t.checkShow?n("v-toolbar",{staticClass:"toolbar",attrs:{dark:"",color:"secondary lighten-1",flat:""}},[t.board?n("v-toolbar-title",{staticClass:"title hidden-xs-only"},[t._v("\n      "+t._s(t.board.name)+"\n    ")]):t._e(),n("v-radio-group",{staticClass:"u__sort-by-group",attrs:{row:"","hide-details":""},model:{value:t.feedSortBy,callback:function(e){t.feedSortBy=e},expression:"feedSortBy"}},[n("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}),n("v-layout",{attrs:{"justify-end":"",row:""}},t._l(t.sortByOptions,function(e){return n("v-radio",{key:e.value,attrs:{label:e.label,value:e.value},on:{change:t.handleSortChange}})}))],1),n("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}),n("v-btn",{attrs:{flat:"",icon:""},on:{click:function(e){t.setInviteToBoardDialogOpen(!0)}}},[n("v-tooltip",{attrs:{bottom:""}},[n("v-icon",{attrs:{slot:"activator"},slot:"activator"},[t._v("group_add")]),n("span",[t._v("Add Collaborators")])],1)],1),n("v-btn",{attrs:{flat:"",icon:""},on:{click:t.toggleInfoDrawer}},[n("v-tooltip",{attrs:{bottom:""}},[n("v-icon",{attrs:{slot:"activator"},slot:"activator"},[t._v("info")]),n("span",[t._v("Board Information")])],1)],1),n("v-menu",{attrs:{"close-on-content-click":!1},model:{value:t.isShareMenuOpen,callback:function(e){t.isShareMenuOpen=e},expression:"isShareMenuOpen"}},[n("v-tooltip",{attrs:{slot:"activator",bottom:""},slot:"activator"},[n("span",[t._v("Share")]),n("v-btn",{attrs:{slot:"activator",flat:"",icon:""},slot:"activator"},[n("v-icon",[t._v("share")])],1)],1),n("v-card",[n("v-card-title",{staticClass:"px-2 pt-2 pb-0"},[n("h6",{staticClass:"caption"},[t._v("Share Link")])]),n("v-card-text",{staticClass:"px-2 pt-1 pb-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.linkUrl,expression:"linkUrl"}],ref:"shareLink",staticClass:"mr-2",attrs:{type:"text",readonly:""},domProps:{value:t.linkUrl},on:{input:function(e){e.target.composing||(t.linkUrl=e.target.value)}}}),n("a",{attrs:{title:"Copy share link"},on:{click:t.copyShareLink}},[n("v-icon",{attrs:{size:24}},[t._v("\n              file_copy\n            ")])],1)])],1)],1),t.checkBoardCreator?n("v-btn",{attrs:{append:"",to:"settings",flat:"",icon:""}},[n("v-tooltip",{attrs:{bottom:""}},[n("v-icon",{attrs:{slot:"activator"},slot:"activator"},[t._v("settings")]),n("span",[t._v("Board Settings")])],1)],1):t._e()],1):t._e()],1)},o=[],i=(n("96cf"),n("3040")),r=(n("28a5"),n("7f7f"),n("c93e")),s=n("2f62"),c=n("b707"),l=n("2f10"),d={name:"BoardToolbar",components:{BoardInviteMembersDialog:c["a"]},props:{},data:function(){return{isShareMenuOpen:!1,linkUrl:l["a"].BaseUrl+"invitation/"}},computed:Object(r["a"])({},Object(s["e"])("ui",["sortIdeasBy","isBoardInfoDrawerOpen"]),Object(s["c"])("ui",["sortByOptions"]),Object(s["c"])("auth",["roles","loggedInUser"]),Object(s["c"])("boards",{board:"current"}),Object(s["c"])("companies",{company:"current"}),{feedSortBy:{get:function(){return this.sortIdeasBy},set:function(t){this.setSortIdeasBy(t)}},iconSize:function(){return this.$vuetify.breakpoint.xsOnly?24:32},checkShow:function(){switch(this.$route.name){case"board/settings":case"board/update":return!1}return!0},checkBoardCreator:function(){return!(!this.board||!this.loggedInUser||this.board.createdBy!=this.loggedInUser._id)}}),watch:{isShareMenuOpen:function(t){t&&(this.linkUrl=l["a"].BaseUrl+"invitation/"+this.company._id+"_FAI35_"+this.loggedInUser._id+"_FAI35_"+this.board._id+"_FAI35_"+this.company.name.split(" ").join("_"))}},created:function(){},methods:Object(r["a"])({},Object(s["d"])("ui",["setInviteToBoardDialogOpen"]),Object(s["d"])("ui",["setSortIdeasBy","setBoardInfoDrawerOpen"]),Object(s["b"])("boards",{loadBoard:"load"}),Object(s["b"])("ideas",{findIdeasBySort:"findBySort"}),{handleSortChange:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$nextTick(Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.findIdeasBySort({board:e.board._id});case 2:case"end":return t.stop()}},t,this)})));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),toggleInfoDrawer:function(){this.isBoardInfoDrawerOpen?this.setBoardInfoDrawerOpen(!1):this.setBoardInfoDrawerOpen(!0)},copyShareLink:function(){console.log("ruby: BoardToolbar / copyShareLink"),this.linkUrl=l["a"].BaseUrl+"invitation/"+this.company._id+"_FAI35_"+this.loggedInUser._id+"_FAI35_"+this.board._id+"_FAI35_"+this.company.name.split(" ").join("_"),this.$refs.shareLink.select(),document.execCommand("copy")}})},u=d,p=(n("e8bd"),n("2877")),h=Object(p["a"])(u,a,o,!1,null,"b5c0981a",null);h.options.__file="BoardToolbar.vue";e["default"]=h.exports},"939c":function(t,e,n){},aa51:function(t,e,n){"use strict";var a=n("2cce"),o=n.n(a);o.a},b707:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:t.isOpen,width:"375",lazy:"",scrollable:""},on:{input:t.setOpen}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n      Invite Collaborators\n    ")]),n("v-card-text",[n("p",{staticClass:"caption"},[t._v("Invite Existing or New Members via Email ")]),t.showShareLink?n("v-text-field",{ref:"shareLink",attrs:{readonly:"","append-icon":"file_copy",outline:"",rules:[t.$rules.required(),t.$rules.maxLength(220)],color:"accent",label:"Share Link",required:""},on:{"click:append":t.copyShareLink},model:{value:t.linkUrl,callback:function(e){t.linkUrl=e},expression:"linkUrl"}}):t._e(),n("v-combobox",{attrs:{outline:"","hide-selected:":"",true:"",label:"Collaborators",multiple:"",color:"primary",chips:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[n("v-chip",{key:JSON.stringify(e.item),staticClass:"v-chip--select-multi",attrs:{selected:e.selected,disabled:e.disabled,close:""},on:{input:function(t){e.parent.selectItem(e.item)}}},[n("v-avatar",{staticClass:"accent white--text",domProps:{textContent:t._s(e.item.slice(0,2).toUpperCase())}}),t._v("\n            "+t._s(e.item)+"\n          ")],1)]}}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){e.stopPropagation(),t.setOpen(!1)}}},[t._v("Cancel\n      ")]),n("v-btn",{attrs:{loading:t.isActionPending,color:"accent",flat:""},on:{click:t.submit}},[t._v("Send Invites\n      ")])],1)],1)],1)},o=[],i=(n("96cf"),n("3040")),r=(n("7f7f"),n("28a5"),n("c93e")),s=(n("cadf"),n("551c"),n("097d"),n("2f62")),c=(n("2ef0"),n("2f10")),l={name:"BoardInviteMembersDialog",components:{},props:{showShareLink:{type:Boolean,default:!0}},data:function(){return{select:[],linkUrl:""}},computed:Object(r["a"])({},Object(s["e"])("auth",["actionTypes","roleTypes"]),Object(s["e"])("actions",["isActionPending"]),Object(s["e"])("ui",{isOpen:"isInviteToBoardDialogOpen"}),Object(s["c"])("auth",["roles","loggedInUser"]),Object(s["c"])("companies",{company:"current"}),Object(s["c"])("boards",{currentBoard:"current",boards:"list",shareLink:"shareLink"}),Object(s["c"])("ideas",{idea:"current"}),{invitations:function(){var t=this;return this.select.filter(function(t){return t}).map(function(e){return{email:e,role:"member",company:t.company._id,board:t.currentBoard._id,invitedBy:t.loggedInUser._id}})}}),watch:{isOpen:function(t){if(t){console.log("ruby: BoardInviteMemebersDialog opened , ",this.$route.path),console.log("ruby: this.idea",this.idea);var e=null;e=this.currentBoard?this.currentBoard._id:this.idea.board,this.linkUrl=c["a"].BaseUrl+"invitation/"+this.company._id+"_FAI35_"+this.loggedInUser._id+"_FAI35_"+e+"_FAI35_"+this.company.name.split(" ").join("_")}}},mounted:function(){console.log("ruby: test,mounted board",this.currentBoard),console.log("ruby: test, idea",this.idea);var t=null;t=this.currentBoard?this.currentBoard._id:this.idea.board,this.linkUrl=c["a"].BaseUrl+"invitation/"+this.company._id+"_FAI35_"+this.loggedInUser._id+"_FAI35_"+t+"_FAI35_"+this.company.name.split(" ").join("_")},methods:Object(r["a"])({},Object(s["d"])("ui",{setOpen:"setInviteToBoardDialogOpen"}),Object(s["b"])("invitations",{createInvitations:"create"}),Object(s["b"])("companyManagement",["inviteMembers"]),{submit:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$dispatchAction({type:this.$actionTypes.INVITE_COMPANY_MEMBERS,entity:this.company._id,payload:this.invitations});case 2:return t.next=4,this.$dispatchAction({type:this.$actionTypes.INVITE_BOARD_MEMBERS,entity:this.company._id,payload:this.invitations});case 4:this.setOpen(!1);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),validateEmail:function(t){var e=/\S+@\S+\.\S+/;return e.test(t)},copyShareLink:function(){console.log("ruby: copyShareLink clicked",this.$refs.shareLink);var t=this.linkUrl,e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.focus(),e.select();try{var n=document.execCommand("copy"),a=n?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+a)}catch(t){console.error("Fallback: Oops, unable to copy",t)}document.body.removeChild(e)}})},d=l,u=(n("aa51"),n("2877")),p=Object(u["a"])(d,a,o,!1,null,"2dab5698",null);p.options.__file="BoardInviteMembersDialog.vue";e["a"]=p.exports},e8bd:function(t,e,n){"use strict";var a=n("939c"),o=n.n(a);o.a}}]);
//# sourceMappingURL=chunk-1a3ed19d.c0029e8e.js.map