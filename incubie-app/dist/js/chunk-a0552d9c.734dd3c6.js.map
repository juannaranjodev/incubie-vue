{"version":3,"sources":["webpack:///./src/views/idea/components/IdeaCard.vue?2802","webpack:///./src/views/idea/components/IdeaComments.vue?8c6d","webpack:///./src/views/idea/IdeaMain.vue?eaf6","webpack:///./src/views/idea/components/IdeaComment.vue?d621","webpack:///./src/views/idea/IdeaMain.vue?f9d0","webpack:///./src/views/idea/components/IdeaCommentDialog.vue?490d","webpack:///src/views/idea/components/IdeaCommentDialog.vue","webpack:///./src/views/idea/components/IdeaCommentDialog.vue?6d36","webpack:///./src/views/idea/components/IdeaCommentDialog.vue","webpack:///./src/views/idea/components/IdeaCard.vue?35b0","webpack:///./src/views/idea/components/IdeaCardImages.vue?eefa","webpack:///src/views/idea/components/IdeaCardImages.vue","webpack:///./src/views/idea/components/IdeaCardImages.vue?56bf","webpack:///./src/views/idea/components/IdeaCardImages.vue","webpack:///src/views/idea/components/IdeaCard.vue","webpack:///./src/views/idea/components/IdeaCard.vue?11f2","webpack:///./src/views/idea/components/IdeaCard.vue","webpack:///./src/views/idea/components/IdeaComments.vue?8911","webpack:///./src/views/idea/components/IdeaComment.vue?812d","webpack:///src/views/idea/components/IdeaComment.vue","webpack:///./src/views/idea/components/IdeaComment.vue?f338","webpack:///./src/views/idea/components/IdeaComment.vue","webpack:///src/views/idea/components/IdeaComments.vue","webpack:///./src/views/idea/components/IdeaComments.vue?e735","webpack:///./src/views/idea/components/IdeaComments.vue","webpack:///src/views/idea/IdeaMain.vue","webpack:///./src/views/idea/IdeaMain.vue?86c3","webpack:///./src/views/idea/IdeaMain.vue","webpack:///./src/lib/mixins/scroll-to-target.mixin.js","webpack:///./src/lib/mixins/index.js","webpack:///./src/views/idea/components/BoardInviteMembersDialog.vue?8698","webpack:///./src/views/idea/components/IdeaMeta.vue?0bb5","webpack:///./src/views/idea/components/BoardInviteMembersDialog.vue?4537","webpack:///src/views/idea/components/BoardInviteMembersDialog.vue","webpack:///./src/views/idea/components/BoardInviteMembersDialog.vue?066b","webpack:///./src/views/idea/components/BoardInviteMembersDialog.vue","webpack:///./src/views/idea/components/IdeaCreateDialog.vue?30dd","webpack:///src/views/idea/components/IdeaCreateDialog.vue","webpack:///./src/views/idea/components/IdeaCreateDialog.vue?ef75","webpack:///./src/views/idea/components/IdeaCreateDialog.vue","webpack:///./src/views/idea/components/IdeaMeta.vue?2d1d","webpack:///src/views/idea/components/IdeaMeta.vue","webpack:///./src/views/idea/components/IdeaMeta.vue?1d17","webpack:///./src/views/idea/components/IdeaMeta.vue","webpack:///./src/views/idea/components/IdeaCardImages.vue?99b2"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdeaCard_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdeaCard_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdeaComments_vue_vue_type_style_index_0_id_81d0dfb4_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdeaComments_vue_vue_type_style_index_0_id_81d0dfb4_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdeaMain_vue_vue_type_style_index_0_id_44c7b468_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdeaMain_vue_vue_type_style_index_0_id_44c7b468_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdeaComment_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdeaComment_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","attrs","wrap","id","showShareLink","model","value","callback","$$v","idea","expression","disabled","status","$constants","ideaStatuses","closed","color","dark","fab","large","fixed","bottom","right","on","click","newComment","_v","xs12","icon","staticClass","_s","statusDescription","_e","mb-5","edit","$event","editing","comments","staticRenderFns","IdeaCommentDialogvue_type_template_id_01fbde24_render","isOpen","lazy","max-width","input","handleIsOpenChange","ref","submit","preventDefault","postComment","primary-title","rules","$rules","required","validate-on-blur","auto-grow","autofocus","rows","counter","commentModel","$set","flat","loading","isActionPending","type","IdeaCommentDialogvue_type_template_id_01fbde24_staticRenderFns","IdeaCommentDialogvue_type_script_lang_js_","name","components","props","data","text","computed","Object","objectSpread","vuex_esm","company","current","_id","comment","createdBy","loggedInUser","parent","watch","newVal","oldVal","initForm","created","mounted","methods","setOpen","vote","Comment","$FeathersVuex","clone","_postComment","asyncToGenerator","regeneratorRuntime","mark","_callee","form","_ref","_context","prev","next","$refs","validate","save","$dispatchAction","$actionTypes","POST_COMMENT","entity","payload","sent","$router","push","params","t0","stop","apply","arguments","handleEnterKey","event","shiftKey","_handleIsOpenChange","_callee2","v","_context2","onOpen","onClose","_x","_this","$nextTick","focus","reset","components_IdeaCommentDialogvue_type_script_lang_js_","component","componentNormalizer","options","__file","IdeaCommentDialog","IdeaCardvue_type_template_id_20d8ee3a_render","class","idea-card--closed","canCloseIdea","workingIdea","items","statusTypes","content-class","hide-details","handleStatusInput","scopedSlots","_u","key","fn","item","title","pa-2","kind","voteKinds","ideas","showDot","isActive","checkHideVote","images","sm4","mt-3","$vuetify","breakpoint","xsOnly","mr-4","smAndUp","faded","sm8","length","description","user","getUser","scrollToTarget","offset","commentCount","_f","createdAt","close-on-content-click","nudge-bottom","nudge-right","isShareMenuOpen","slot","small","readonly","domProps","shareLink","copyShareLink","size","$emit","deleteIdea","width","isCloseIdeaDialogVisible","doCloseIdea","outline","label","doCancelCloseIdea","isCommitIdeaDialogVisible","doCommitIdea","persistent-hint","placeholder","hint","doCancelCommitIdea","IdeaCardvue_type_template_id_20d8ee3a_staticRenderFns","IdeaCardImagesvue_type_template_id_7269adf0_scoped_true_render","idea-card-images--faded","src","first","url","height","openLightBox","_l","image","i","style","backgroundImage","IdeaCardImagesvue_type_template_id_7269adf0_scoped_true_staticRenderFns","IdeaCardImagesvue_type_script_lang_js_","Array","default","Boolean","rest","isLightBoxActive","filter","undefined","lightbox","open","components_IdeaCardImagesvue_type_script_lang_js_","IdeaCardImages_component","IdeaCardImages","IdeaCardvue_type_script_lang_js_","mixins","hasVoted","closeIdeaReason","hasUserVoted","board","getBoard","isOwner","ideaVote","owner","voter","check","hideVote","immediate","handler","lodash","console","log","$route","setIdeaCommentDialogOpen","patchIdea","unvote","showSnackbar","_deleteIdea","res","newUser","$confirm","remove","go","ideasCount","doVote","_doVote","_handleStatusInput","_callee3","_context3","committed","statusUrl","message","select","document","execCommand","_doCloseIdea","_callee4","_context4","closeIdeaForm","_doCommitIdea","_callee5","_context5","currentStatus","components_IdeaCardvue_type_script_lang_js_","IdeaCard_component","IdeaCard","IdeaCommentsvue_type_template_id_81d0dfb4_scoped_true_render","editComment","frozenRootComments","handleInfiniteScroll","IdeaCommentsvue_type_template_id_81d0dfb4_scoped_true_staticRenderFns","IdeaCommentvue_type_template_id_0ab6b2e7_render","idea-comment--child","pa-0","replies","toggleCollapse","author","toggleDoReply","deleteComment","keypress","_k","keyCode","postReply","keyup","hideReply","replyText","child","IdeaCommentvue_type_template_id_0ab6b2e7_staticRenderFns","IdeaCommentvue_type_script_lang_js_","level","Number","index","showReply","liveVote","isCommentsFindPending","repliesSize","findCommentsInStore","query","$sort","reply","voteCount","isAuthor","findComments","setCurrent","_deleteComment","commit","replyForm","_postReply","abrupt","components_IdeaCommentvue_type_script_lang_js_","IdeaComment_component","IdeaComment","IdeaCommentsvue_type_script_lang_js_","frozenComments","hasMoreComments","parentComments","c","findNextCommentsPage","_handleInfiniteScroll","components_IdeaCommentsvue_type_script_lang_js_","IdeaComments_component","IdeaComments","IdeaMainvue_type_script_lang_js_","IdeaCreateDialog","IdeaMeta","BoardInviteMembersDialog","commenting","routeParams","hash","window","location","setCreateIdeaDialogOpen","init","el","querySelector","concat","scrollIntoView","_mounted","beforeRouteEnter","to","from","store","dispatch","beforeRouteUpdate","beforeRouteLeave","setComment","clearComments","_init","infiniteHandler","_infiniteHandler","$state","loaded","complete","idea_IdeaMainvue_type_script_lang_js_","IdeaMain_component","__webpack_exports__","smoothScrollTo","endX","endY","duration","startX","scrollX","pageXOffset","startY","scrollY","pageYOffset","distanceX","distanceY","startTime","Date","getTime","easeInOutQuart","time","distance","timer","setInterval","newX","newY","clearInterval","scrollTo","scroll_to_target_mixin","target","opts","_opts$offset","_opts$duration","element","Error","_element$getBoundingC","getBoundingClientRect","top","d","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BoardInviteMembersDialog_vue_vue_type_style_index_0_id_2dab5698_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BoardInviteMembersDialog_vue_vue_type_style_index_0_id_2dab5698_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdeaMeta_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdeaMeta_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","scrollable","append-icon","maxLength","click:append","linkUrl","hide-selected:","true","multiple","chips","JSON","stringify","selected","close","selectItem","textContent","slice","toUpperCase","stopPropagation","BoardInviteMembersDialogvue_type_script_lang_js_","currentBoard","boards","invitations","row","map","email","role","invitedBy","val","path","boardId","globalConstant","BaseUrl","split","join","createInvitations","_submit","INVITE_COMPANY_MEMBERS","INVITE_BOARD_MEMBERS","validateEmail","re","test","textArea","createElement","body","appendChild","successful","msg","err","error","removeChild","components_BoardInviteMembersDialogvue_type_script_lang_js_","checkUpdate","blnEditing","gotoUpgrade","boardsOptions","ideaModel","isImagePickerLoading","update:loading","canceled","IdeaCreateDialogvue_type_script_lang_js_","userStory","userStoryHint","getUsers","trialIdeasCount","ideasPagination","myIdeasCount","setInviteToBoardDialogOpen","_gotoUpgrade","stripe","plan","upload","createIdea","Idea","newCheck","uploadImage","_uploadImage","ideaId","uploadRes","UPLOAD_IMAGES","uri","bucket","thumb","_x2","flag","ideaRes","imageUrls","constants","Promise","all","_x3","components_IdeaCreateDialogvue_type_script_lang_js_","fluid","muted","IdeaMetavue_type_script_lang_js_","justifySpaceBetween","components_IdeaMetavue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdeaCardImages_vue_vue_type_style_index_0_id_7269adf0_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IdeaCardImages_vue_vue_type_style_index_0_id_7269adf0_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-a0552d9c.734dd3c6.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaCard.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaCard.vue?vue&type=style&index=0&lang=stylus&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaComments.vue?vue&type=style&index=0&id=81d0dfb4&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaComments.vue?vue&type=style&index=0&id=81d0dfb4&lang=stylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaMain.vue?vue&type=style&index=0&id=44c7b468&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaMain.vue?vue&type=style&index=0&id=44c7b468&lang=stylus&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaComment.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaComment.vue?vue&type=style&index=0&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.idea)?_c('i-container',[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('idea-comment-dialog'),_c('div',{attrs:{\"id\":\"parent\"}},[_c('board-invite-members-dialog',{attrs:{\"showShareLink\":true}})],1),_c('idea-create-dialog',{model:{value:(_vm.idea),callback:function ($$v) {_vm.idea=$$v},expression:\"idea\"}}),_c('v-btn',{attrs:{\"disabled\":_vm.idea.status === _vm.$constants.ideaStatuses.closed,\"color\":\"primary\",\"dark\":\"\",\"fab\":\"\",\"large\":\"\",\"fixed\":\"\",\"bottom\":\"\",\"right\":\"\"},on:{\"click\":_vm.newComment}},[_c('v-icon',[_vm._v(\"add_comment\")])],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-alert',{attrs:{\"value\":_vm.idea.status === _vm.$constants.ideaStatuses.closed,\"icon\":\"info\",\"color\":\"closed\"}},[_c('strong',[_vm._v(\"This idea is closed. Comments and voting have been disabled.\")]),(_vm.idea.status === _vm.$constants.ideaStatuses.closed)?_c('div',{staticClass:\"mt-2\"},[_c('strong',[_vm._v(\"Reason:\")]),_vm._v(\"\\n          \"+_vm._s(_vm.idea.statusDescription)+\"\\n        \")]):_vm._e()])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"mb-5\":\"\"}},[_c('idea-card',{attrs:{\"idea\":_vm.idea},on:{\"edit\":function($event){_vm.editing=true}}})],1),_c('v-flex',{attrs:{\"id\":\"comments\",\"xs12\":\"\"}},[_c('idea-comments',{attrs:{\"comments\":_vm.comments}})],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"value\":_vm.isOpen,\"lazy\":true,\"max-width\":\"414\"},on:{\"input\":_vm.handleIsOpenChange}},[_c('v-form',{ref:\"form\",staticClass:\"accent\",on:{\"submit\":function($event){$event.preventDefault();return _vm.postComment($event)}}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('h3',{staticClass:\"title\"},[_vm._v(\"Comment\")])]),_c('v-card-text',[_c('v-textarea',{ref:\"comment\",attrs:{\"rules\":[_vm.$rules.required('Comment cannot be blank.')],\"validate-on-blur\":true,\"auto-grow\":\"\",\"autofocus\":\"\",\"rows\":\"1\",\"counter\":\"500\",\"color\":\"accent\",\"required\":\"\"},model:{value:(_vm.commentModel.text),callback:function ($$v) {_vm.$set(_vm.commentModel, \"text\", $$v)},expression:\"commentModel.text\"}})],1),_c('v-card-actions',{staticClass:\"justify-end\"},[_c('v-btn',{attrs:{\"color\":\"primary\",\"flat\":\"\"},on:{\"click\":function($event){_vm.handleIsOpenChange(false)}}},[_vm._v(\"Cancel\\n        \")]),_c('v-btn',{attrs:{\"loading\":_vm.isActionPending,\"type\":\"submit\",\"color\":\"accent\",\"flat\":\"\"}},[_vm._v(\"\\n          Save\\n        \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog :value=\"isOpen\" :lazy=\"true\" max-width=\"414\" @input=\"handleIsOpenChange\">\n    <v-form ref=\"form\" class=\"accent\" @submit.prevent=\"postComment\">\n      <v-card>\n        <v-card-title primary-title>\n          <h3 class=\"title\">Comment</h3>\n        </v-card-title>\n\n        <v-card-text>\n          <v-textarea ref=\"comment\" v-model=\"commentModel.text\" :rules=\"[$rules.required('Comment cannot be blank.')]\"\n            :validate-on-blur=\"true\" auto-grow autofocus rows=\"1\" counter=\"500\" color=\"accent\"\n            required/>\n        </v-card-text>\n        <v-card-actions class=\"justify-end\">\n          <v-btn color=\"primary\" flat @click=\"handleIsOpenChange(false)\">Cancel\n          </v-btn>\n          <v-btn :loading=\"isActionPending\" type=\"submit\" color=\"accent\" flat>\n            Save\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-form>\n  </v-dialog>\n</template>\n\n<script>\nimport { mapActions, mapGetters, mapMutations, mapState } from \"vuex\";\nimport { voteKinds } from \"@/constants\";\n\nexport default {\n  name: \"IdeaCommentDialog\",\n  components: {},\n  props: {},\n  data() {\n    return {\n      text: null,\n      commentModel: {}\n    };\n  },\n  computed: {\n    ...mapState(\"ui\", {\n      isOpen: \"isIdeaCommentDialogOpen\"\n    }),\n    ...mapState(\"actions\", [\"isActionPending\"]),\n    ...mapGetters(\"auth\", [\"loggedInUser\"]),\n    ...mapGetters(\"companies\", {\n      company: \"current\"\n    }),\n    ...mapGetters(\"ideas\", {\n      idea: \"current\"\n    }),\n    ...mapGetters(\"comments\", {\n      current: \"current\"\n    }),\n    editing() {\n      return this.current && this.current._id ? true : false;\n    },\n    comment() {\n      return {\n        createdBy: this.loggedInUser._id,\n        text: this.text,\n        idea: this.idea._id,\n        parent: null\n      };\n    }\n  },\n  watch: {\n    current(newVal, oldVal) {\n      this.initForm();\n    }\n  },\n\n  created() {\n    this.initForm();\n  },\n  mounted() {},\n  methods: {\n    ...mapMutations(\"ui\", {\n      setOpen: \"setIdeaCommentDialogOpen\"\n    }),\n    ...mapActions(\"votes\", {\n      vote: \"create\"\n    }),\n    initForm() {\n      const _self = this;\n      const { Comment } = this.$FeathersVuex;\n      if (this.current) {\n        this.commentModel = this.current.clone();\n      } else {\n        this.commentModel = new Comment({\n          createdBy: this.loggedInUser._id,\n          idea: this.idea ? this.idea._id : null,\n          parent: null\n        });\n      }\n    },\n    async postComment() {\n      const form = this.$refs.form;\n\n      if (form.validate()) {\n        let id;\n        try {\n          if (this.editing) {\n            await this.commentModel.save();\n            await this.handleIsOpenChange(false);\n            id = this.commentModel._id;\n          } else {\n            const { data } = await this.$dispatchAction({\n              type: this.$actionTypes.POST_COMMENT,\n              entity: this.company._id,\n              payload: this.commentModel\n            });\n            id = data.comment._id;\n            await this.handleIsOpenChange(false);\n          }\n\n          this.$router.push({ name: \"idea\", params: { idea: this.idea._id, comment: id } });\n        } catch (err) {\n          // TODO: handle error\n        }\n      }\n    },\n    handleEnterKey(event) {\n      if (event.shiftKey) {\n        return false;\n      }\n\n      this.postComment();\n    },\n    async handleIsOpenChange(v) {\n      await this.setOpen(v);\n\n      if (v) {\n        this.onOpen();\n      } else {\n        this.onClose();\n      }\n    },\n    onOpen() {\n      this.$nextTick(() => {\n        const input = this.$refs.comment;\n        input.focus();\n      });\n    },\n    onClose() {\n      this.commentModel.reset();\n      const form = this.$refs.form;\n\n      form.reset();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaCommentDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaCommentDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IdeaCommentDialog.vue?vue&type=template&id=01fbde24&\"\nimport script from \"./IdeaCommentDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./IdeaCommentDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"IdeaCommentDialog.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticClass:\"idea-card\",class:{ 'idea-card--closed': _vm.idea.status === _vm.$constants.ideaStatuses.closed }},[_c('div',{staticClass:\"idea-card__header\"},[_c('div',{staticClass:\"idea-card__status\"},[(_vm.canCloseIdea(_vm.workingIdea))?_c('v-select',{staticClass:\"idea-card__status__control\",attrs:{\"items\":_vm.statusTypes,\"content-class\":\"idea-card__status__control__content\",\"hide-details\":\"\"},on:{\"input\":_vm.handleStatusInput},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('div',{staticClass:\"idea-card__status__control__item idea-card__status__control__item--collapsed\"},[_c('div',{staticClass:\"idea-card__status__icon\",class:(\"idea-card__status__icon--\" + (data.item.value))})])]}},{key:\"item\",fn:function(data){return [_c('div',{staticClass:\"idea-card__status__control__item\"},[_c('div',{staticClass:\"idea-card__status__icon\",class:(\"idea-card__status__icon--\" + (data.item.value))}),_vm._v(\" \"+_vm._s(data.item.text)+\"\\n            \")])]}}]),model:{value:(_vm.workingIdea.status),callback:function ($$v) {_vm.$set(_vm.workingIdea, \"status\", $$v)},expression:\"workingIdea.status\"}}):_c('div',{staticClass:\"pt-1\"},[_c('div',{class:(\"idea-card__status__icon idea-card__status__icon--\" + (_vm.workingIdea.status)),attrs:{\"title\":_vm.workingIdea.status}})])],1)]),_c('v-container',{attrs:{\"pa-2\":\"\"}},[_c('v-layout',[_c('div',{staticClass:\"idea-card__vote\"},[_c('i-vote',{staticClass:\"mr-2\",attrs:{\"parent\":_vm.idea._id,\"kind\":_vm.$constants.voteKinds.ideas,\"disabled\":_vm.idea.status === _vm.$constants.ideaStatuses.closed,\"showDot\":!_vm.isActive || _vm.checkHideVote}})],1),_c('div',{staticClass:\"idea-card__main\"},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[(_vm.images.length)?_c('v-flex',{staticClass:\"idea-card__images\",attrs:{\"xs12\":\"\",\"sm4\":\"\"}},[_c('div',{class:{ 'mt-3': _vm.$vuetify.breakpoint.xsOnly, 'mr-4': _vm.$vuetify.breakpoint.smAndUp }},[_c('idea-card-images',{attrs:{\"faded\":_vm.idea.status === _vm.$constants.ideaStatuses.closed},model:{value:(_vm.idea.images),callback:function ($$v) {_vm.$set(_vm.idea, \"images\", $$v)},expression:\"idea.images\"}})],1)]):_vm._e(),_c('v-flex',{staticClass:\"idea-card__body\",attrs:{\"sm8\":_vm.images.length,\"xs12\":\"\"}},[_c('h1',{staticClass:\"idea-card__title headline\",attrs:{\"title\":_vm.idea.statusDescription ? 'Closed' : ''}},[_vm._v(\"\\n                \"+_vm._s(_vm.idea.title)+\"\\n              \")]),(_vm.idea.description)?_c('div',[_c('h6',{staticClass:\"idea-card__heading caption\"},[_vm._v(\"Description\")]),_c('p',[_c('i-read-more',{attrs:{\"text\":_vm.idea.description}})],1)]):_vm._e()]),_c('v-flex',{staticClass:\"idea-card__footer mt-3\",attrs:{\"xs12\":\"\"}},[_c('i-user',{attrs:{\"user\":_vm.getUser(_vm.idea.createdBy)}}),_c('a',{staticClass:\"u__underline-on-hover\",on:{\"click\":function($event){_vm.scrollToTarget('#comments', { offset: -64 })}}},[_vm._v(\"\\n                \"+_vm._s(_vm.idea.commentCount)+\"\\n                \"),(_vm.idea.commentCount === 1)?_c('span',[_vm._v(\"Comment\")]):_c('span',[_vm._v(\"Comments\")])]),_c('em',{attrs:{\"title\":\"gorp\"}},[_vm._v(_vm._s(_vm._f(\"formatDateFromNow\")(_vm.idea.createdAt)))]),_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-bottom\":20,\"nudge-right\":40},model:{value:(_vm.isShareMenuOpen),callback:function ($$v) {_vm.isShareMenuOpen=$$v},expression:\"isShareMenuOpen\"}},[_c('a',{staticClass:\"u__no-underline\",attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_c('span',{staticClass:\"u__underline-on-hover\"},[_vm._v(\"Share\")]),_c('v-icon',{staticClass:\"u__no-underline\",attrs:{\"small\":\"\"}},[_vm._v(\"\\n                    arrow_drop_down\\n                  \")])],1),_c('v-card',{staticClass:\"idea-card__share-menu\",attrs:{\"color\":\"primary\",\"dark\":\"\"}},[_c('v-card-title',{staticClass:\"px-2 pt-2 pb-0\"},[_c('h6',{staticClass:\"caption\"},[_vm._v(\"Share Link\")])]),_c('v-card-text',{staticClass:\"px-2 pt-1 pb-2\"},[_c('input',{ref:\"shareLink\",staticClass:\"mr-2\",attrs:{\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":_vm.shareLink}}),_c('a',{attrs:{\"title\":\"Copy share link\"},on:{\"click\":_vm.copyShareLink}},[_c('v-icon',{attrs:{\"size\":24}},[_vm._v(\"\\n                        file_copy\\n                      \")])],1)])],1)],1),_c('v-card-actions',[(_vm.isOwner)?_c('v-btn',{attrs:{\"flat\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.$emit('edit')}}},[_c('v-icon',{attrs:{\"size\":14,\"color\":\"grey\"}},[_vm._v(\"\\n                    edit\\n                  \")]),_c('span',[_vm._v(\"Edit\")])],1):_vm._e(),(_vm.isOwner)?_c('v-btn',{attrs:{\"flat\":\"\",\"small\":\"\"},on:{\"click\":_vm.deleteIdea}},[_c('v-icon',{attrs:{\"size\":14,\"color\":\"grey\"}},[_vm._v(\"\\n                    delete\\n                  \")]),_c('span',[_vm._v(\"Delete\")])],1):_vm._e()],1)],1)],1)],1)])],1)],1),_c('v-dialog',{attrs:{\"width\":\"320\"},model:{value:(_vm.isCloseIdeaDialogVisible),callback:function ($$v) {_vm.isCloseIdeaDialogVisible=$$v},expression:\"isCloseIdeaDialogVisible\"}},[_c('v-form',{ref:\"closeIdeaForm\",on:{\"submit\":function($event){$event.preventDefault();return _vm.doCloseIdea($event)}}},[_c('v-card',[_c('v-card-title',{staticClass:\"title\"},[_vm._v(\"Close Idea\")]),_c('v-card-text',[_c('v-textarea',{attrs:{\"rules\":[_vm.$rules.required()],\"outline\":\"\",\"autofocus\":\"\",\"required\":\"\",\"label\":\"Reason\"},model:{value:(_vm.workingIdea.statusDescription),callback:function ($$v) {_vm.$set(_vm.workingIdea, \"statusDescription\", $$v)},expression:\"workingIdea.statusDescription\"}})],1),_c('v-card-actions',{staticClass:\"u__justify-end\"},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":_vm.doCancelCloseIdea}},[_vm._v(\"\\n            Cancel\\n          \")]),_c('v-btn',{attrs:{\"type\":\"submit\",\"color\":\"accent\",\"flat\":\"\"}},[_vm._v(\"\\n            Close Idea\\n          \")])],1)],1)],1)],1),_c('v-dialog',{attrs:{\"width\":\"320\"},model:{value:(_vm.isCommitIdeaDialogVisible),callback:function ($$v) {_vm.isCommitIdeaDialogVisible=$$v},expression:\"isCommitIdeaDialogVisible\"}},[_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.doCommitIdea($event)}}},[_c('v-card',[_c('v-card-title',{staticClass:\"title\"},[_vm._v(\"Commit Idea\")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"persistent-hint\":true,\"placeholder\":\"http://\",\"hint\":\"Link to ticket\",\"label\":\"URL\",\"autofocus\":\"\",\"outline\":\"\"},model:{value:(_vm.workingIdea.statusUrl),callback:function ($$v) {_vm.$set(_vm.workingIdea, \"statusUrl\", $$v)},expression:\"workingIdea.statusUrl\"}})],1),_c('v-card-actions',{staticClass:\"u__justify-end\"},[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":_vm.doCancelCommitIdea}},[_vm._v(\"\\n            Cancel\\n          \")]),_c('v-btn',{attrs:{\"type\":\"submit\",\"color\":\"accent\",\"flat\":\"\"}},[_vm._v(\"\\n            Commit Idea\\n          \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"idea-card-images\",class:{ 'idea-card-images--faded': _vm.faded }},[_c('i-light-box',{ref:\"lightbox\",attrs:{\"images\":_vm.value}}),_c('v-card',[_c('v-card-media',{staticClass:\"idea-card-images__primary\",attrs:{\"src\":_vm.first.url,\"height\":\"0\"},on:{\"click\":function($event){_vm.openLightBox(0)}}})],1),_c('div',{staticClass:\"idea-card-images__secondary\"},_vm._l((_vm.rest),function(image,i){return _c('a',{key:i,staticClass:\"idea-card-images__secondary-item\",style:({ backgroundImage: (\"url(\" + (image.thumb) + \")\") }),on:{\"click\":function($event){_vm.openLightBox(i)}}})}))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"{ 'idea-card-images--faded': faded }\" class=\"idea-card-images\">\n    <i-light-box ref=\"lightbox\" :images=\"value\" />\n    <v-card>\n      <v-card-media :src=\"first.url\" height=\"0\" class=\"idea-card-images__primary\" @click=\"openLightBox(0)\"/>\n    </v-card>\n\n    <div class=\"idea-card-images__secondary\">\n      <a v-for=\"(image, i) in rest\" :key=\"i\" :style=\"{ backgroundImage: `url(${image.thumb})` }\"\n        class=\"idea-card-images__secondary-item\" @click=\"openLightBox(i)\" />\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"IdeaCardImages\",\n  components: {},\n  props: {\n    value: {\n      type: Array,\n      required: true,\n      default: () => []\n    },\n    faded: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      first: {},\n      rest: [],\n      isLightBoxActive: false\n    };\n  },\n  computed: {},\n  watch: {\n    value(newVal, oldVal) {\n      if (newVal.length > 0) {\n        this.first = newVal[0];\n        this.rest = newVal.filter((v, i) => {\n          return i > 0;\n        });\n      } else {\n        this.first = {};\n        this.rest = [];\n      }\n    }\n  },\n  created() {},\n  mounted() {\n    if (this.value.length > 0) {\n      this.first = this.value[0];\n      this.rest = this.value.filter((v, i) => {\n        return i > 0;\n      });\n    }\n  },\n  methods: {\n    openLightBox(i = 0) {\n      this.$refs.lightbox.open(i);\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@import '~@/assets/stylus/settings/_variables.styl';\n\n.idea-card-images {\n  &__primary {\n    cursor: pointer;\n    padding-top: 100%;\n  }\n\n  &__secondary {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-gap: $spacers.two.x;\n    margin: $spacers.two.y 0;\n\n    &-item {\n      background-size: cover;\n      height: 0;\n      padding-top: 100%;\n      width: 100%;\n    }\n  }\n\n  &--faded {\n    .idea-card-images {\n      &__primary, &__secondary {\n        filter: grayscale(100%);\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaCardImages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaCardImages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IdeaCardImages.vue?vue&type=template&id=7269adf0&scoped=true&\"\nimport script from \"./IdeaCardImages.vue?vue&type=script&lang=js&\"\nexport * from \"./IdeaCardImages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IdeaCardImages.vue?vue&type=style&index=0&id=7269adf0&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7269adf0\",\n  null\n  \n)\n\ncomponent.options.__file = \"IdeaCardImages.vue\"\nexport default component.exports","<template>\n  <div>\n    <v-card :class=\"{ 'idea-card--closed': idea.status === $constants.ideaStatuses.closed }\"\n      class=\"idea-card\">\n      <div class=\"idea-card__header\">\n        <div class=\"idea-card__status\">\n          <v-select v-if=\"canCloseIdea(workingIdea)\" v-model=\"workingIdea.status\" :items=\"statusTypes\"\n            content-class=\"idea-card__status__control__content\" hide-details class=\"idea-card__status__control\"\n            @input=\"handleStatusInput\">\n            <template slot=\"selection\" slot-scope=\"data\">\n              <div class=\"idea-card__status__control__item idea-card__status__control__item--collapsed\">\n                <div :class=\"`idea-card__status__icon--${data.item.value}`\" class=\"idea-card__status__icon\"/>\n              </div>\n            </template>\n            <template slot=\"item\" slot-scope=\"data\">\n              <div class=\"idea-card__status__control__item\">\n                <div :class=\"`idea-card__status__icon--${data.item.value}`\" class=\"idea-card__status__icon\"/> {{ data.item.text }}\n              </div>\n            </template>\n          </v-select>\n          <div v-else class=\"pt-1\">\n            <div :class=\"`idea-card__status__icon idea-card__status__icon--${workingIdea.status}`\"\n              :title=\"workingIdea.status\" />\n          </div>\n        </div>\n      </div>\n      <v-container pa-2>\n        <v-layout>\n          <div class=\"idea-card__vote\">\n            <i-vote :parent=\"idea._id\" :kind=\"$constants.voteKinds.ideas\" :disabled=\"idea.status === $constants.ideaStatuses.closed\" :showDot=\"!isActive || checkHideVote\"\n              class=\"mr-2\" />\n          </div>\n          <div class=\"idea-card__main\">\n            <v-layout wrap>\n              <v-flex v-if=\"images.length\" xs12 sm4 class=\"idea-card__images\">\n                <div :class=\"{ 'mt-3': $vuetify.breakpoint.xsOnly, 'mr-4': $vuetify.breakpoint.smAndUp }\">\n                  <idea-card-images v-model=\"idea.images\" :faded=\"idea.status === $constants.ideaStatuses.closed\"/>\n                </div>\n              </v-flex>\n\n              <v-flex :sm8=\"images.length\" xs12 class=\"idea-card__body\">\n                <h1 :title=\"idea.statusDescription ? 'Closed' : ''\" class=\"idea-card__title headline\">\n                  {{ idea.title }}\n                </h1>\n\n                <!-- <h6 class=\"idea-card__heading caption\">User Story</h6>\n                <p>{{ idea.userStory }}</p> -->\n\n                <div v-if=\"idea.description\">\n                  <h6 class=\"idea-card__heading caption\">Description</h6>\n                  <p>\n                    <i-read-more :text=\"idea.description\" />\n                  </p>\n                </div>\n              </v-flex>\n              <v-flex xs12 class=\"idea-card__footer mt-3\">\n                <i-user :user=\"getUser(idea.createdBy)\" />\n\n                <a class=\"u__underline-on-hover\" @click=\"scrollToTarget('#comments', { offset: -64 })\">\n                  {{ idea.commentCount }}\n                  <span v-if=\"idea.commentCount === 1\">Comment</span>\n                  <span v-else>Comments</span>\n                </a>\n\n                <em title=\"gorp\">{{ idea.createdAt | formatDateFromNow }}</em>\n\n                <v-menu v-model=\"isShareMenuOpen\" :close-on-content-click=\"false\" :nudge-bottom=\"20\"\n                  :nudge-right=\"40\">\n                  <a slot=\"activator\" class=\"u__no-underline\">\n                    <span class=\"u__underline-on-hover\">Share</span>\n                    <v-icon small class=\"u__no-underline\">\n                      arrow_drop_down\n                    </v-icon>\n                  </a>\n                  <v-card color=\"primary\" dark class=\"idea-card__share-menu\">\n                    <v-card-title class=\"px-2 pt-2 pb-0\">\n                      <h6 class=\"caption\">Share Link</h6>\n                    </v-card-title>\n                    <v-card-text class=\"px-2 pt-1 pb-2\">\n                      <input ref=\"shareLink\" :value=\"shareLink\" type=\"text\" readonly class=\"mr-2\">\n                      <a title=\"Copy share link\" @click=\"copyShareLink\">\n                        <v-icon :size=\"24\">\n                          file_copy\n                        </v-icon>\n                      </a>\n                    </v-card-text>\n                  </v-card>\n                </v-menu>\n\n                <v-card-actions>\n                  <v-btn v-if=\"isOwner\" flat small @click=\"$emit('edit')\">\n                    <v-icon :size=\"14\" color=\"grey\">\n                      edit\n                    </v-icon>\n                    <span>Edit</span>\n                  </v-btn>\n\n                  <v-btn v-if=\"isOwner\" flat small @click=\"deleteIdea\">\n                    <v-icon :size=\"14\" color=\"grey\">\n                      delete\n                    </v-icon>\n                    <span>Delete</span>\n                  </v-btn>\n                </v-card-actions>\n              </v-flex>\n            </v-layout>\n          </div>\n        </v-layout>\n      </v-container>\n    </v-card>\n\n    <v-dialog v-model=\"isCloseIdeaDialogVisible\" width=\"320\">\n      <v-form ref=\"closeIdeaForm\" @submit.prevent=\"doCloseIdea\">\n        <v-card>\n          <v-card-title class=\"title\">Close Idea</v-card-title>\n          <v-card-text>\n            <v-textarea v-model=\"workingIdea.statusDescription\" :rules=\"[$rules.required()]\"\n              outline autofocus required label=\"Reason\" />\n          </v-card-text>\n          <v-card-actions class=\"u__justify-end\">\n            <v-btn flat @click=\"doCancelCloseIdea\">\n              Cancel\n            </v-btn>\n            <v-btn type=\"submit\" color=\"accent\" flat>\n              Close Idea\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-form>\n    </v-dialog>\n\n    <v-dialog v-model=\"isCommitIdeaDialogVisible\" width=\"320\">\n      <v-form @submit.prevent=\"doCommitIdea\">\n        <v-card>\n          <v-card-title class=\"title\">Commit Idea</v-card-title>\n          <v-card-text>\n            <v-text-field v-model=\"workingIdea.statusUrl\" :persistent-hint=\"true\" placeholder=\"http://\"\n              hint=\"Link to ticket\" label=\"URL\" autofocus outline/>\n          </v-card-text>\n          <v-card-actions class=\"u__justify-end\">\n            <v-btn flat @click=\"doCancelCommitIdea\">\n              Cancel\n            </v-btn>\n            <v-btn type=\"submit\" color=\"accent\" flat>\n              Commit Idea\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-form>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters, mapMutations, mapState } from \"vuex\";\nimport IdeaCardImages from \"./IdeaCardImages\";\nimport { scrollToTarget } from \"@/lib/mixins\";\nimport { cloneDeep } from \"lodash\";\n\nexport default {\n  name: \"IdeaCard\",\n  components: {\n    IdeaCardImages\n  },\n  mixins: [scrollToTarget],\n  props: {\n    idea: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  data() {\n    return {\n      hasVoted: false,\n      workingIdea: {},\n      isShareMenuOpen: false,\n      isCloseIdeaDialogVisible: false,\n      isCommitIdeaDialogVisible: false,\n      closeIdeaReason: null\n    };\n  },\n  computed: {\n    ...mapState(\"votes\", [\"isVotePending\"]),\n    ...mapGetters(\"auth\", [\"loggedInUser\"]),\n    ...mapGetters(\"users\", {\n      getUser: \"get\"\n    }),\n    ...mapGetters(\"permissions\", [\"canCloseIdea\"]),\n    ...mapGetters(\"ideas\", {\n      statusTypes: \"statusTypes\",\n      shareLink: \"shareLink\"\n    }),\n    ...mapGetters(\"votes\", {\n      hasUserVoted: \"hasVoted\"\n    }),\n    // ruby test <\n    ...mapGetters('boards', {\n      board: 'current',\n      getBoard: 'get'\n    }),\n    // ruby test >\n    images() {\n      return this.idea.images;\n    },\n\n    isOwner() {\n      return this.loggedInUser._id === this.idea.createdBy;\n    },\n    ideaVote() {\n      return {\n        parent: this.idea._id,\n        kind: this.$constants.voteKinds.ideas,\n        owner: this.idea.createdBy,\n        voter: this.loggedInUser._id\n      };\n    },\n        // ruby test <\n    isActive ()\n    {\n      if(this.idea.check != -2)\n        return true;\n      return false;\n    },\n    // ruby test <\n    checkHideVote () {\n      if(this.board){\n        return this.board.hideVote == 1;\n      }else {\n        let board = this.getBoard(this.idea.board);\n        return board.hideVote == 1;\n      }\n      \n      \n    },\n    // ruby test >\n  },\n  watch: {\n    idea: {\n      immediate: true,\n      handler(idea) {\n        this.workingIdea = cloneDeep(idea);\n      }\n    }\n  },\n  created() {\n    this.hasVoted = this.hasUserVoted(this.loggedInUser._id, this.idea);\n  },\n  // ruby test <\n  mounted() {\n    console.log(\"ruby: IDEA CARD = \",this.$route);\n    if(this.$route.params.comment == 'xxx'){\n      this.setIdeaCommentDialogOpen(true);\n    }\n  },\n  // ruby test >\n  methods: {\n    ...mapActions(\"ideas\", {\n      patchIdea: \"patch\"\n    }),\n    ...mapActions(\"votes\", {\n      vote: \"create\",\n      unvote: \"remove\"\n    }),\n    ...mapMutations(\"snackbar\", {\n      showSnackbar: \"show\"\n    }),\n    // ruby test <\n    ...mapMutations(\"ui\", {\n      setIdeaCommentDialogOpen: \"setIdeaCommentDialogOpen\"\n    }),\n    // ruby test >\n    async deleteIdea() {\n      let res = await this.$confirm(\"Are you sure you want to delete this idea?\", { title: \"Delete Idea?\" });\n      if (res) {\n        await this.idea.remove();\n        this.$router.go(-1);\n        // ruby test <\n        let newUser = this.loggedInUser;\n        newUser.ideasCount = this.loggedInUser.ideasCount - 1;\n        // ruby test >\n      }\n    },\n    async doVote() {\n      if (this.hasVoted) {\n        await this.unvote(this.ideaVote);\n        this.hasVoted = false;\n      } else {\n        await this.vote(this.ideaVote);\n        this.hasVoted = true;\n      }\n    },\n    async handleStatusInput(status) {\n      if (status === this.$constants.ideaStatuses.committed) {\n        this.isCommitIdeaDialogVisible = true;\n      } else if (status === this.$constants.ideaStatuses.closed) {\n        this.isCloseIdeaDialogVisible = true;\n      } else {\n        await this.patchIdea([\n          this.idea._id,\n          {\n            status,\n            statusDescription: null,\n            statusUrl: null\n          }\n        ]);\n\n        this.showSnackbar({ color: \"info\", message: \"Idea status changed.\" });\n      }\n    },\n    copyShareLink() {\n      this.$refs.shareLink.select();\n      document.execCommand(\"copy\");\n    },\n    async doCloseIdea() {\n      const form = this.$refs.closeIdeaForm;\n\n      if (form.validate()) {\n        await this.patchIdea([\n          this.idea._id,\n          {\n            status: this.workingIdea.status,\n            statusDescription: this.workingIdea.statusDescription,\n            statusUrl: null\n          }\n        ]);\n\n        this.isCloseIdeaDialogVisible = false;\n        this.showSnackbar({ color: \"info\", message: \"Idea closed.\" });\n      }\n    },\n    doCancelCloseIdea() {\n      this.workingIdea.status = this.idea.status;\n      this.workingIdea.statusDescription = null;\n      this.isCloseIdeaDialogVisible = false;\n    },\n    async doCommitIdea() {\n      await this.workingIdea.save();\n      // await this.patchIdea([\n      //   this.idea._id,\n      //   {\n      //     status: this.currentStatus,\n      //     statusUrl: this.workingIdea.statusUrl,\n      //     statusDescription: null\n      //   }\n      // ]);\n\n      this.isCommitIdeaDialogVisible = false;\n      this.showSnackbar({ color: \"info\", message: \"Idea committed.\" });\n    },\n    doCancelCommitIdea() {\n      this.currentStatus = this.idea.status;\n      this.workingIdea.status = this.idea.status;\n      this.workingIdea.statusUrl = null;\n      this.isCommitIdeaDialogVisible = false;\n    },\n    \n  },\n};\n</script>\n\n<style lang=\"stylus\">\n@import '~@/assets/stylus/settings/_variables.styl';\n@import '~@/assets/stylus/settings/_colors.styl';\n\n.idea-card {\n  &__header {\n    display: flex;\n  }\n\n  &__status {\n    position: absolute;\n    right: $spacers.one.x;\n    top: $spacers.one.y;\n\n    &__icon {\n      border-radius: 50%;\n      display: block;\n      height: 12px;\n      margin-right: $spacers.two.x;\n      transform: translateY(-1px);\n      width: 12px;\n\n      &--committed {\n        background-color: $theme.committed;\n      }\n\n      &--proposed {\n        background-color: $theme.proposed;\n      }\n\n      &--closed {\n        background-color: $theme.closed;\n      }\n    }\n\n    &__control {\n      background: white;\n      margin: 0;\n      padding: 0;\n      width: 44px;\n      background-color: white;\n      border-radius: 2px;\n      border: 1px solid #757575;\n\n      &__content {\n        border-radius: 0;\n        transform: translateY(14px);\n\n        .v-card {\n          border-radius: 0;\n        }\n\n        .v-list {\n          background: #d8d8d8;\n          padding: 0;\n\n          > div:not(:last-child) {\n            border-bottom: 1px solid #979797;\n          }\n\n          &__tile {\n            font-size: 13px;\n            height: 24px;\n            padding: 0 $spacers.two.x;\n          }\n        }\n      }\n\n      &__item {\n        align-items: center;\n        display: flex;\n\n        &--collapsed {\n          padding: 0 0 0 5px;\n\n          .idea-card__status__icon {\n            margin-right: 0;\n          }\n        }\n      }\n    }\n  }\n\n  &__container {\n  }\n\n  &__images {\n    @media $display-breakpoints.xs-only {\n      order: 3;\n    }\n  }\n\n  &__body {\n    @media $display-breakpoints.xs-only {\n      order: 1;\n    }\n  }\n\n  &__title {\n    margin-bottom: $spacers.two.y;\n    margin-right: 44px;\n    word-wrap: break-word;\n  }\n\n  &__heading {\n    color: #979797;\n    font-weight: bold;\n    margin-bottom: $spacers.one.y;\n  }\n\n  &__footer {\n    align-items: center;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n\n    @media $display-breakpoints.xs-only {\n      order: 2;\n    }\n  }\n\n  &__share-menu {\n    input {\n      background: #f8f8f8;\n      color: #4a4a4a;\n      font-size: 11px;\n      padding: $spacers.one.y (((((((((((((((((((($spacers.two.x))))))))))))))))))));\n    }\n  }\n\n  &--closed {\n    .idea-card {\n      &__body, &__footer {\n        color: $grey.lighten-1;\n\n        a {\n          color: $grey.lighten-1;\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IdeaCard.vue?vue&type=template&id=20d8ee3a&\"\nimport script from \"./IdeaCard.vue?vue&type=script&lang=js&\"\nexport * from \"./IdeaCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IdeaCard.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"IdeaCard.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"idea-comments\"},_vm._l((_vm.parentComments),function(comment){return _c('idea-comment',{key:comment._id,attrs:{\"comment\":comment},on:{\"edit\":_vm.editComment}})})),(_vm.frozenRootComments.length)?_c('i-infinite-scroll',{ref:\"infiniteScroll\",attrs:{\"next\":_vm.handleInfiniteScroll}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"idea-comment\",class:{ 'idea-comment--child': _vm.comment.parent },attrs:{\"name\":_vm.comment._id,\"flat\":\"\"}},[_c('v-container',{attrs:{\"pa-0\":\"\"}},[_c('v-layout',[_c('div',{staticClass:\"idea-comment__margin\"},[_c('i-vote',{staticClass:\"mr-2\",attrs:{\"parent\":_vm.comment._id,\"kind\":_vm.$constants.voteKinds.comments,\"disabled\":_vm.idea.status === _vm.$constants.ideaStatuses.closed,\"showDot\":false,\"small\":\"\"}}),(_vm.replies.length)?_c('button',{staticClass:\"idea-comment__collapse\",on:{\"click\":_vm.toggleCollapse}},[_c('span')]):_vm._e()],1),_c('div',{staticClass:\"idea-comment__main\"},[_c('div',{staticClass:\"idea-comment__header\"},[_c('i-user',{attrs:{\"user\":_vm.author,\"small\":\"\"}}),_c('div',{staticClass:\"idea-comment__date\"},[_vm._v(\"\\n            \"+_vm._s(_vm._f(\"formatDateFromNow\")(_vm.comment.createdAt))+\"\\n          \")])],1),_c('div',{staticClass:\"idea-comment__text\"},[_vm._v(\"\\n          \"+_vm._s(_vm.comment.text)+\"\\n        \")]),(_vm.idea.status !== _vm.$constants.ideaStatuses.closed)?_c('div',{staticClass:\"idea-comment__footer\"},[_c('v-btn',{staticClass:\"idea-comment__footer-btn\",attrs:{\"flat\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleDoReply($event)}}},[_c('v-icon',{attrs:{\"size\":14,\"color\":\"grey\"}},[_vm._v(\"\\n              mode_comment\\n            \")]),_c('span',[_vm._v(\"Reply\")])],1),(_vm.isAuthor)?_c('v-btn',{staticClass:\"idea-comment__footer-btn\",attrs:{\"flat\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.editComment(_vm.comment)}}},[_c('v-icon',{attrs:{\"size\":14,\"color\":\"grey\"}},[_vm._v(\"\\n              edit\\n            \")]),_c('span',[_vm._v(\"Edit\")])],1):_vm._e(),(_vm.isAuthor)?_c('v-btn',{staticClass:\"idea-comment__footer-btn\",attrs:{\"flat\":\"\",\"small\":\"\"},on:{\"click\":_vm.deleteComment}},[_c('v-icon',{attrs:{\"size\":14,\"color\":\"grey\"}},[_vm._v(\"\\n              delete\\n            \")]),_c('span',[_vm._v(\"Delete\")])],1):_vm._e()],1):_vm._e(),(_vm.showReply)?_c('v-form',{ref:\"replyForm\",staticClass:\"idea-comment__reply\"},[_c('i-user-icon',{staticClass:\"idea-comment__reply-icon\",attrs:{\"user\":_vm.loggedInUser,\"size\":22}}),_c('div',{staticClass:\"idea-comment__reply-text\"},[_c('v-textarea',{attrs:{\"rules\":[_vm.$rules.required('Comment cannot be blank.')],\"auto-grow\":\"\",\"autofocus\":\"\",\"hide-details\":\"\",\"color\":\"secondary\",\"rows\":\"1\"},on:{\"keypress\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.postReply($event)},\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"esc\",27,$event.key,\"Escape\")){ return null; }return _vm.hideReply($event)}},model:{value:(_vm.replyText),callback:function ($$v) {_vm.replyText=$$v},expression:\"replyText\"}})],1)],1):_vm._e(),_vm._l((_vm.replies),function(child){return _c('idea-comment',{key:child._id,attrs:{\"comment\":child}})})],2)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card :class=\"{ 'idea-comment--child': comment.parent }\" :name=\"comment._id\" flat\n    class=\"idea-comment\">\n    <v-container pa-0>\n      <v-layout>\n        <div class=\"idea-comment__margin\">\n          <i-vote :parent=\"comment._id\" :kind=\"$constants.voteKinds.comments\" :disabled=\"idea.status === $constants.ideaStatuses.closed\" :showDot=\"false\"\n            small class=\"mr-2\" />\n          <button v-if=\"replies.length\" class=\"idea-comment__collapse\" @click=\"toggleCollapse\">\n            <span/>\n          </button>\n        </div>\n        <div class=\"idea-comment__main\">\n          <div class=\"idea-comment__header\">\n            <i-user :user=\"author\" small/>\n            <div class=\"idea-comment__date\">\n              {{ comment.createdAt | formatDateFromNow }}\n            </div>\n          </div>\n\n          <div class=\"idea-comment__text\">\n            {{ comment.text }}\n          </div>\n\n          <div v-if=\"idea.status !== $constants.ideaStatuses.closed\" class=\"idea-comment__footer\">\n\n            <v-btn flat small class=\"idea-comment__footer-btn\" @click.prevent=\"toggleDoReply\">\n              <v-icon :size=\"14\" color=\"grey\">\n                mode_comment\n              </v-icon>\n              <span>Reply</span>\n            </v-btn>\n\n            <v-btn v-if=\"isAuthor\" flat small class=\"idea-comment__footer-btn\" @click=\"editComment(comment)\">\n              <v-icon :size=\"14\" color=\"grey\">\n                edit\n              </v-icon>\n              <span>Edit</span>\n            </v-btn>\n\n            <v-btn v-if=\"isAuthor\" flat small class=\"idea-comment__footer-btn\" @click=\"deleteComment\">\n              <v-icon :size=\"14\" color=\"grey\">\n                delete\n              </v-icon>\n              <span>Delete</span>\n            </v-btn>\n          </div>\n\n          <v-form v-if=\"showReply\" ref=\"replyForm\" class=\"idea-comment__reply\">\n            <i-user-icon :user=\"loggedInUser\" :size=\"22\" class=\"idea-comment__reply-icon\" />\n\n            <div class=\"idea-comment__reply-text\">\n              <v-textarea v-model=\"replyText\" :rules=\"[$rules.required('Comment cannot be blank.')]\"\n                auto-grow autofocus hide-details color=\"secondary\" rows=\"1\" @keypress.enter=\"postReply\"\n                @keyup.esc=\"hideReply\" />\n            </div>\n          </v-form>\n\n          <idea-comment v-for=\"child in replies\" :key=\"child._id\" :comment=\"child\" />\n\n        </div>\n      </v-layout>\n    </v-container>\n  </v-card>\n</template>\n\n<script>\nimport { mapActions, mapGetters, mapState, mapMutations } from \"vuex\";\nimport { scrollToTarget } from \"@/lib/mixins\";\n\nexport default {\n  name: \"IdeaComment\",\n  components: {},\n  mixins: [scrollToTarget],\n  props: {\n    comment: {\n      type: Object,\n      required: true,\n      default: () => {}\n    },\n    level: {\n      type: Number,\n      default: 0\n    },\n    index: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      showReply: false,\n      replyText: null,\n      liveVote: 0\n    };\n  },\n  computed: {\n    ...mapState(\"comments\", {\n      isCommentsFindPending: \"isFindPending\",\n      repliesSize: \"repliesSize\"\n    }),\n\n    ...mapState(\"votes\", [\"isVotePending\"]),\n    ...mapGetters(\"auth\", [\"loggedInUser\"]),\n    ...mapGetters(\"users\", {\n      getUser: \"get\"\n    }),\n    ...mapGetters(\"companies\", {\n      company: \"current\"\n    }),\n    ...mapGetters(\"ideas\", {\n      idea: \"current\"\n    }),\n    ...mapGetters(\"comments\", {\n      findCommentsInStore: \"find\"\n    }),\n    ...mapGetters(\"votes\", {\n      hasUserVoted: \"hasVoted\"\n    }),\n    author() {\n      return this.getUser(this.comment.createdBy);\n    },\n    replies() {\n      return this.findCommentsInStore({\n        query: {\n          parent: this.comment._id,\n          $sort: {\n            createdAt: -1\n          }\n        }\n      }).data;\n    },\n    reply() {\n      return {\n        createdBy: this.loggedInUser._id,\n        text: this.replyText,\n        idea: this.idea._id,\n        parent: this.comment._id\n      };\n    },\n\n    hasVoted() {\n      if (this.liveVote === 1) {\n        return true;\n      } else if (this.liveVote === -1) {\n        return false;\n      } else {\n        return this.hasUserVoted(this.loggedInUser._id, this.comment);\n      }\n    },\n    voteCount() {\n      return this.comment ? this.comment.voteCount + this.liveVote : 0;\n    },\n\n    isAuthor() {\n      return this.comment.createdBy === this.loggedInUser._id;\n    }\n  },\n  watch: {},\n  created() {},\n  methods: {\n    ...mapActions(\"comments\", {\n      findComments: \"find\"\n    }),\n    ...mapActions(\"votes\", {\n      vote: \"create\",\n      unvote: \"remove\"\n    }),\n    ...mapMutations(\"comments\", {\n      setCurrent: \"setCurrent\"\n    }),\n    ...mapMutations(\"ui\", [\"setIdeaCommentDialogOpen\"]),\n    editComment(comment) {\n      this.setCurrent(comment);\n      this.setIdeaCommentDialogOpen();\n\n      //this.$emit(\"edit\", { comment: comment });\n    },\n    async deleteComment() {\n      let res = await this.$confirm(\"Are you sure you want to delete this comment?\", { title: \"Delete Comment?\" });\n      if (res) {\n        if (this.replies.length > 0) {\n          this.comment.text = \"[deleted]\";\n          await this.comment.save();\n          this.comment.commit();\n        } else {\n          await this.comment.remove();\n        }\n      }\n    },\n\n    toggleDoReply() {\n      this.showReply = !this.showReply;\n    },\n    hideReply() {\n      this.$refs.replyForm.reset();\n      this.showReply = false;\n    },\n    async postReply(event) {\n      if (event.shiftKey) {\n        return false;\n      }\n\n      const replyForm = this.$refs.replyForm;\n      event.preventDefault();\n\n      if (replyForm.validate()) {\n        try {\n          await this.$dispatchAction({\n            type: this.$actionTypes.POST_COMMENT,\n            entity: this.company._id,\n            payload: this.reply\n          });\n\n          this.showReply = false;\n          replyForm.reset();\n        } catch (err) {\n          // TODO: handle error\n        }\n      }\n    },\n    toggleCollapse() {\n      console.log(\"toggler\");\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\">\n@import '~@/assets/stylus/settings/_variables';\n@import '~@/assets/stylus/settings/_colors';\n\n.idea-comment {\n  box-shadow: 0 0 1px $grey.lighten-2;\n  padding: $spacers.two.y (((((((((((((((($spacers.two.x))))))))))))))));\n\n  &:hover {\n    box-shadow: 0 0 1px $grey.darken-2;\n  }\n\n  &--child {\n    box-shadow: none;\n    margin-top: $spacers.two.y;\n    padding-bottom: 0;\n    padding-left: 0;\n    padding-top: 0;\n\n    &:hover {\n      box-shadow: none;\n    }\n  }\n\n  &__margin {\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n  }\n\n  &__collapse {\n    align-items: center;\n    display: flex;\n    flex: 1 1 auto;\n    flex-direction: column;\n    margin-top: $spacers.one.y;\n    padding: 0 $spacers.two.x;\n    transform: translateX(-4px);\n\n    > span {\n      background: $grey.lighten-3;\n      flex: 1 1 auto;\n      // transform: translateX(-2px)\n      width: 2px;\n    }\n\n    &:hover {\n      > span {\n        background: $theme.accent;\n      }\n    }\n  }\n\n  &__main {\n    flex: 1 1 auto;\n  }\n\n  &__header {\n    align-items: center;\n    display: flex;\n    width: 100%;\n\n    > *:not(:last-child) {\n      margin-right: $spacer;\n    }\n  }\n\n  &__author {\n    font-size: 12px;\n  }\n\n  &__date {\n    font-size: 12px;\n    font-style: italic;\n  }\n\n  &__text {\n    font-size: 16px;\n    padding: $spacers.two.y 0 0 0;\n  }\n\n  &__footer {\n    align-items: center;\n    display: flex;\n    font-size: 12px;\n    justify-content: flex-end;\n  }\n\n  &__reply {\n    align-items: flex-start;\n    border-left: 1px solid $grey.lighten-1;\n    display: flex;\n    margin: $spacers.two.y 0 0 (((((((((((((((($spacers.two.x))))))))))))))));\n    padding: 0 0 $spacers.two.y (((((((((((((((($spacers.two.x))))))))))))))));\n\n    &-icon {\n      margin-top: 8px;\n    }\n\n    &-text {\n      margin-left: $spacers.two.x;\n      flex: 1 1 auto;\n    }\n\n    .input-group {\n      padding: 0;\n    }\n\n    .input-group.input-group--solo {\n      // background: $grey.lighten-3\n      min-height: auto;\n      padding: $spacers.one.y 0;\n\n      label {\n        padding-left: $spacers.two.x;\n        top: 5px;\n      }\n\n      .input-group__input {\n        padding: 0 $spacers.two.x;\n\n        textarea {\n          padding: 0;\n        }\n      }\n    }\n  }\n\n  &__footer-btn {\n    font-size: 11px;\n    min-width: auto;\n    margin: 0;\n    padding: 0 $spacers.one.x;\n\n    span {\n      color: $grey.darken-1;\n      display: flex;\n      margin-left: $spacers.one.x;\n      margin-top: $spacers.one.y;\n    }\n\n    & + & {\n      margin-left: $spacers.one.x;\n    }\n  }\n\n  &__vote-count {\n    transform: translate(14px, 2px);\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaComment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaComment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IdeaComment.vue?vue&type=template&id=0ab6b2e7&\"\nimport script from \"./IdeaComment.vue?vue&type=script&lang=js&\"\nexport * from \"./IdeaComment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IdeaComment.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"IdeaComment.vue\"\nexport default component.exports","<template>\n  <div>\n    <div class=\"idea-comments\">\n      <idea-comment  @edit=\"editComment\" v-for=\"comment in parentComments\"\n        :key=\"comment._id\" :comment=\"comment\" />\n    </div>\n    <i-infinite-scroll v-if=\"frozenRootComments.length\" ref=\"infiniteScroll\" :next=\"handleInfiniteScroll\"/>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters, mapMutations, mapState } from \"vuex\";\nimport IdeaComment from \"./IdeaComment\";\nimport { clone, map, isNull } from \"lodash\";\n\nexport default {\n  name: \"IdeaComments\",\n  components: {\n    IdeaComment\n  },\n  props: {\n    comments: {\n      type: Array,\n      required: true,\n      default: () => []\n    }\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    \n    ...mapState(\"comments\", {\n      frozenComments: \"frozen\"\n    }),\n    ...mapGetters(\"comments\", {\n      hasMoreComments: \"hasMore\",\n      frozenRootComments: \"frozenRoots\"\n    }),\n    parentComments(){\n        return this.comments.filter(c => {\n          return isNull(c.parent)\n        })\n    }\n  },\n  watch: {\n    // comments: {\n    //   immediate: true,\n    //   handler(comments) {\n    //     this.addFrozenComments(comments);\n    //   }\n    // }\n  },\n  created() {},\n  methods: {\n    // ...mapMutations(\"comments\", {\n    //   addFrozenComments: \"addFrozenItems\"\n    // }),\n    ...mapActions(\"comments\", {\n      findNextCommentsPage: \"findNextPage\"\n    }),\n    editComment({comment}){\n      this.$emit('edit', {comment: comment})\n    },\n    async handleInfiniteScroll() {\n      await this.findNextCommentsPage();\n\n      return this.hasMoreComments;\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@import '~@/assets/stylus/settings/_variables';\n\n.idea-comments {\n  margin-top: $spacers.three.y;\n}\n\n.idea-comment {\n  margin: 0 0 $spacers.three.y 0;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaComments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaComments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IdeaComments.vue?vue&type=template&id=81d0dfb4&scoped=true&\"\nimport script from \"./IdeaComments.vue?vue&type=script&lang=js&\"\nexport * from \"./IdeaComments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IdeaComments.vue?vue&type=style&index=0&id=81d0dfb4&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"81d0dfb4\",\n  null\n  \n)\n\ncomponent.options.__file = \"IdeaComments.vue\"\nexport default component.exports","<template>\n  <i-container v-if=\"idea\">\n    <v-layout wrap>\n      <idea-comment-dialog />\n      <div id=\"parent\"><board-invite-members-dialog v-bind:showShareLink=\"true\"/></div>\n      <idea-create-dialog v-model=\"idea\" />\n      <v-btn :disabled=\"idea.status === $constants.ideaStatuses.closed\" color=\"primary\"\n        dark fab large fixed bottom right @click=\"newComment\">\n        <v-icon>add_comment</v-icon>\n      </v-btn>\n\n      <v-flex xs12>\n        <v-alert :value=\"idea.status === $constants.ideaStatuses.closed\" icon=\"info\" color=\"closed\">\n          <strong>This idea is closed. Comments and voting have been disabled.</strong>\n          <div v-if=\"idea.status === $constants.ideaStatuses.closed\" class=\"mt-2\">\n            <strong>Reason:</strong>\n            {{ idea.statusDescription }}\n          </div>\n        </v-alert>\n      </v-flex>\n\n      <v-flex xs12 mb-5>\n        <idea-card :idea=\"idea\" @edit=\"editing=true\" />\n      </v-flex>\n\n      <v-flex id=\"comments\" xs12>\n        <idea-comments :comments=\"comments\" />\n      </v-flex>\n    </v-layout>\n  </i-container>\n</template>\n\n<script>\nimport { mapActions, mapGetters, mapMutations, mapState } from \"vuex\";\nimport IdeaCommentDialog from \"./components/IdeaCommentDialog\";\nimport IdeaCard from \"./components/IdeaCard\";\nimport IdeaMeta from \"./components/IdeaMeta\";\nimport IdeaComments from \"./components/IdeaComments\";\nimport IdeaCreateDialog from \"@/views/idea/components/IdeaCreateDialog\";\nimport BoardInviteMembersDialog from \"./components/BoardInviteMembersDialog\";// ruby test\nimport store from \"@/store\";\n\nexport default {\n  name: \"IdeaMain\",\n  components: {\n    IdeaCard,\n    IdeaCommentDialog,\n    IdeaCreateDialog,\n    IdeaComments,\n    IdeaMeta,\n    BoardInviteMembersDialog, // ruby test\n  },\n  props: {},\n  data() {\n    return {\n      editing: false,\n      comment: {}\n    };\n  },\n  computed: {\n    ...mapState(\"ui\", {\n      isOpen: \"isCreateIdeaDialogOpen\",\n      commenting: \"isIdeaCommentDialogOpen\"\n    }),\n\n    ...mapState(\"route\", {\n      routeParams: \"params\"\n    }),\n    ...mapGetters(\"auth\", [\"loggedInUser\"]),\n    ...mapState(\"comments\", {\n      isCommentsFindPending: \"isFindPending\"\n    }),\n    ...mapGetters(\"companies\", {\n      company: \"current\"\n    }),\n    ...mapGetters(\"ideas\", {\n      idea: \"current\",\n      statusTypes: \"statusTypes\"\n    }),\n    ...mapGetters(\"comments\", {\n      findCommentsInStore: \"find\",\n\n      hasMoreComments: \"hasMore\"\n    }),\n    hash() {\n      return window.location.hash;\n    },\n    comments() {\n      return this.findCommentsInStore({\n        query: {\n          idea: this.$route.params.idea,\n          parent: null,\n          $sort: {\n            createdAt: -1\n          }\n        }\n      }).data;\n    }\n  },\n  watch: {\n    isOpen(newVal, oldVal) {\n      if (!newVal) {\n        this.editing = false;\n      }\n    },\n\n    editing(newVal, oldVal) {\n      if (newVal === true) {\n        this.setCreateIdeaDialogOpen();\n      }\n    },\n    $route() {\n      this.init();\n    },\n\n    routeParams: {\n      immediate: true,\n      handler(params) {\n        const { comment } = params;\n\n        if (comment) {\n          this.$nextTick(() => {\n            const el = document.querySelector(`[name='${comment}']`);\n            if (el) {\n              el.scrollIntoView(false);\n            }\n          });\n        }\n      }\n    }\n  },\n  async mounted() {\n    console.log('ray : ***** IdeaMain mounted *****');\n    // ray test block console.log(this);\n    this.init();\n    // const {Comment}\n  },\n  beforeRouteEnter(to, from, next) {\n    const idea = to.params.idea;\n    store.dispatch(\"ideas/load\", idea);\n    next();\n  },\n  beforeRouteUpdate(to, from, next) {\n    const idea = to.params.idea;\n    store.dispatch(\"ideas/load\", idea);\n    next();\n  },\n  beforeRouteLeave(to, from, next) {\n    store.dispatch(\"ideas/unload\");\n    next();\n  },\n  methods: {\n    ...mapMutations(\"ui\", [\"setIdeaCommentDialogOpen\"]),\n    ...mapMutations(\"ui\", [\"setInviteToBoardDialogOpen\"]),\n    ...mapMutations(\"ui\", [\"setCreateIdeaDialogOpen\"]),\n    ...mapMutations(\"comments\", {\n      setComment: \"setCurrent\",\n      clearComments: \"clearAll\"\n    }),\n\n    ...mapActions(\"comments\", { findComments: \"find\" }),\n    ...mapActions(\"comments\", {\n      findNextCommentsPage: \"findNextPage\"\n    }),\n    async init() {\n      await this.findComments({\n        query: {\n          idea: this.$route.params.idea,\n          $sort: {\n            createdAt: -1\n          }\n        }\n      });\n    },\n    newComment() {\n      const { Comment } = this.$FeathersVuex;\n      this.setComment(\n        new Comment({\n          createdBy: this.loggedInUser._id,\n          idea: this.idea._id\n        })\n      );\n      this.setIdeaCommentDialogOpen();\n    },\n    async infiniteHandler($state) {\n      await this.findNextCommentsPage();\n      $state.loaded();\n\n      if (!this.hasMoreComments) {\n        $state.complete();\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@import '~@/assets/stylus/settings/_variables';\n@import '~@/assets/stylus/settings/_colors';\n\n.idea {\n  max-width: 600px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaMain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaMain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IdeaMain.vue?vue&type=template&id=44c7b468&scoped=true&\"\nimport script from \"./IdeaMain.vue?vue&type=script&lang=js&\"\nexport * from \"./IdeaMain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IdeaMain.vue?vue&type=style&index=0&id=44c7b468&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44c7b468\",\n  null\n  \n)\n\ncomponent.options.__file = \"IdeaMain.vue\"\nexport default component.exports","function smoothScrollTo (endX, endY, duration) {\n  let startX = window.scrollX || window.pageXOffset\n  let startY = window.scrollY || window.pageYOffset\n  let distanceX = endX - startX\n  let distanceY = endY - startY\n  let startTime = new Date().getTime()\n\n  duration = typeof duration !== 'undefined' ? duration : 400\n\n  // Easing function\n  const easeInOutQuart = function (time, from, distance, duration) {\n    if ((time /= duration / 2) < 1) return distance / 2 * time * time * time * time + from\n    return -distance / 2 * ((time -= 2) * time * time * time - 2) + from\n  }\n\n  const timer = window.setInterval(function () {\n    let time = new Date().getTime() - startTime\n    let newX = easeInOutQuart(time, startX, distanceX, duration)\n    let newY = easeInOutQuart(time, startY, distanceY, duration)\n\n    if (time >= duration) {\n      window.clearInterval(timer)\n    }\n    window.scrollTo(newX, newY)\n  }, 1000 / 60) // 60 fps\n}\n\nexport default {\n  methods: {\n    scrollToTarget (target, opts = {}) {\n      const { offset = 0, duration = 400 } = opts\n      const element = document.querySelector(target)\n\n      if (!element) {\n        throw new Error(`scrollToElement: target ${target} does not exist in the document.`)\n      }\n\n      const { top } = element.getBoundingClientRect()\n      smoothScrollTo(0, top + offset, duration)\n    }\n  }\n}\n","export { default as scrollToTarget } from './scroll-to-target.mixin'\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardInviteMembersDialog.vue?vue&type=style&index=0&id=2dab5698&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardInviteMembersDialog.vue?vue&type=style&index=0&id=2dab5698&lang=stylus&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaMeta.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaMeta.vue?vue&type=style&index=0&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"value\":_vm.isOpen,\"width\":\"375\",\"lazy\":\"\",\"scrollable\":\"\"},on:{\"input\":_vm.setOpen}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"\\n      Invite Collaborators\\n    \")]),_c('v-card-text',[_c('p',{staticClass:\"caption\"},[_vm._v(\"Invite Existing or New Members via Email \")]),(_vm.showShareLink)?_c('v-text-field',{ref:\"shareLink\",attrs:{\"readonly\":\"\",\"append-icon\":\"file_copy\",\"outline\":\"\",\"rules\":[_vm.$rules.required(), _vm.$rules.maxLength(220)],\"color\":\"accent\",\"label\":\"Share Link\",\"required\":\"\"},on:{\"click:append\":_vm.copyShareLink},model:{value:(_vm.linkUrl),callback:function ($$v) {_vm.linkUrl=$$v},expression:\"linkUrl\"}}):_vm._e(),_c('v-combobox',{attrs:{\"outline\":\"\",\"hide-selected:\":\"\",\"true\":\"\",\"label\":\"Collaborators\",\"multiple\":\"\",\"color\":\"primary\",\"chips\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('v-chip',{key:JSON.stringify(data.item),staticClass:\"v-chip--select-multi\",attrs:{\"selected\":data.selected,\"disabled\":data.disabled,\"close\":\"\"},on:{\"input\":function($event){data.parent.selectItem(data.item)}}},[_c('v-avatar',{staticClass:\"accent white--text\",domProps:{\"textContent\":_vm._s(data.item.slice(0, 2).toUpperCase())}}),_vm._v(\"\\n            \"+_vm._s(data.item)+\"\\n          \")],1)]}}]),model:{value:(_vm.select),callback:function ($$v) {_vm.select=$$v},expression:\"select\"}})],1),_c('v-card-actions',{staticClass:\"justify-end\"},[_c('v-btn',{attrs:{\"color\":\"primary\",\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.setOpen(false)}}},[_vm._v(\"Cancel\\n      \")]),_c('v-btn',{attrs:{\"loading\":_vm.isActionPending,\"color\":\"accent\",\"flat\":\"\"},on:{\"click\":_vm.submit}},[_vm._v(\"Send Invites\\n      \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    :value=\"isOpen\"\n    width=\"375\"\n    lazy\n    scrollable\n    @input=\"setOpen\">\n    <v-card>\n      <v-card-title class=\"headline\">\n        Invite Collaborators\n      </v-card-title>\n      <v-card-text>\n        <p class=\"caption\">Invite Existing or New Members via Email </p>\n        <v-text-field v-if=\"showShareLink\"\n          ref=\"shareLink\"\n          readonly\n          append-icon=\"file_copy\"\n          @click:append=\"copyShareLink\"\n          outline\n          v-model=\"linkUrl\"\n          :rules=\"[$rules.required(), $rules.maxLength(220)]\"\n           color=\"accent\" label=\"Share Link\"\n          required >\n        </v-text-field>\n        <v-combobox\n          outline\n          hide-selected: true\n          v-model=\"select\"\n\n          label=\"Collaborators\"\n          multiple\n          color=\"primary\"\n          chips>\n          <template\n            slot=\"selection\"\n            slot-scope=\"data\">\n            <v-chip\n              :selected=\"data.selected\"\n              :disabled=\"data.disabled\"\n              :key=\"JSON.stringify(data.item)\"\n              close\n              class=\"v-chip--select-multi\"\n              @input=\"data.parent.selectItem(data.item)\">\n              <v-avatar\n                class=\"accent white--text\"\n                v-text=\"data.item.slice(0, 2).toUpperCase()\"></v-avatar>\n              {{ data.item }}\n            </v-chip>\n          </template>\n        </v-combobox>\n      </v-card-text>\n      <v-card-actions class=\"justify-end\">\n        <v-btn\n          color=\"primary\"\n          flat\n          @click.stop=\"setOpen(false)\">Cancel\n        </v-btn>\n        <v-btn\n          :loading=\"isActionPending\"\n          color=\"accent\"\n          flat\n          @click=\"submit\">Send Invites\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { mapActions, mapGetters, mapMutations, mapState } from 'vuex'\nimport { get } from \"lodash\";\nimport globalConstant from '../../../globalConstant.js';\n\nexport default {\n  name: 'BoardInviteMembersDialog',\n  components: {},\n  props: {\n    showShareLink: {type:Boolean, default: true}\n  },\n  data () {\n    return {\n      select: [],\n      linkUrl: '', // ruby test\n    }\n  },\n   computed: {\n    ...mapState('auth', ['actionTypes', 'roleTypes']),\n    ...mapState('actions', ['isActionPending']),\n    ...mapState('ui', {\n      isOpen: 'isInviteToBoardDialogOpen'\n    }),\n    ...mapGetters('auth', ['roles', 'loggedInUser']),\n    ...mapGetters('companies', {\n      company: 'current'\n    }),\n    ...mapGetters(\"boards\", {\n      currentBoard: \"current\",\n      boards: \"list\",\n      shareLink: \"shareLink\", // ruby test\n    }),\n    ...mapGetters(\"ideas\", {\n      idea: \"current\",\n    }),\n    invitations () {\n      return this.select.filter(row => {\n        return row\n      }).map(row => {\n        return {\n          email: row,\n          role: 'member',\n          company: this.company._id,\n          board: this.currentBoard._id,\n          invitedBy: this.loggedInUser._id\n        }\n      })\n    },\n  },\n  watch: {\n    isOpen(val){\n      if(val){\n        console.log(\"ruby: BoardInviteMemebersDialog opened , \", this.$route.path);\n        console.log(\"ruby: this.idea\", this.idea);\n        let boardId = null;\n        if(!this.currentBoard){\n          boardId = this.idea.board;\n        }else{\n          boardId = this.currentBoard._id;\n        }\n        this.linkUrl = globalConstant.BaseUrl + \"invitation/\" + this.company._id + '_FAI35_' + this.loggedInUser._id + '_FAI35_' + boardId + '_FAI35_' + this.company.name.split(' ').join('_');\n      }\n    },\n  },\n  mounted() {\n    //this.linkUrl = \"http://incubie.com/b/\";//+ this.currentBoard.slug;\n    console.log(\"ruby: test,mounted board\", this.currentBoard);\n    console.log(\"ruby: test, idea\", this.idea);\n    let boardId = null;\n    if(!this.currentBoard){\n      boardId = this.idea.board;\n    }else{\n      boardId = this.currentBoard._id;\n    }\n\n    this.linkUrl = globalConstant.BaseUrl + \"invitation/\" + this.company._id + '_FAI35_' + this.loggedInUser._id + '_FAI35_' + boardId + '_FAI35_' + this.company.name.split(' ').join('_');\n  },\n \n  methods: {\n    ...mapMutations('ui', {\n      setOpen: 'setInviteToBoardDialogOpen'\n    }),\n    ...mapActions('invitations', {\n      createInvitations: 'create'\n    }),\n    ...mapActions('companyManagement', ['inviteMembers']),\n    async submit () {\n      await this.$dispatchAction({\n        type: this.$actionTypes.INVITE_COMPANY_MEMBERS,\n        entity: this.company._id,\n        payload: this.invitations\n      })\n      await this.$dispatchAction({\n        type: this.$actionTypes.INVITE_BOARD_MEMBERS,\n        entity: this.company._id,\n        payload: this.invitations\n      })\n\n      this.setOpen(false)\n    },\n\n    // check if or not email\n    validateEmail(email) {\n        let re = /\\S+@\\S+\\.\\S+/;\n        return re.test(email);\n    },\n    copyShareLink() {\n      console.log(\"ruby: copyShareLink clicked\", this.$refs.shareLink);\n\n      let text = this.linkUrl;\n\n      var textArea = document.createElement(\"textarea\");\n      textArea.value = text;\n      document.body.appendChild(textArea);\n      textArea.focus();\n      textArea.select();\n\n      try {\n        var successful = document.execCommand('copy');\n        var msg = successful ? 'successful' : 'unsuccessful';\n        console.log('Fallback: Copying text command was ' + msg);\n      } catch (err) {\n        console.error('Fallback: Oops, unable to copy', err);\n      }\n\n      document.body.removeChild(textArea);\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n  @import '~@/assets/stylus/settings/_variables'\n  @import '~@/assets/stylus/settings/_colors'\n\n  .invite {\n\n    &__card {\n      position: relative\n      transition: box-shadow $primary-transition\n\n      &:hover {\n        box-shadow: 0 0 1px 0 rgba(0, 0, 0, .6)\n      }\n    }\n\n    &__field {\n      padding-top: 4px\n    }\n\n    &__remove__row__btn {\n      position: absolute\n      top: 4px\n      right: 0\n      z-index: 10\n    }\n\n    &__clear {\n      text-align: right\n    }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardInviteMembersDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardInviteMembersDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BoardInviteMembersDialog.vue?vue&type=template&id=2dab5698&scoped=true&\"\nimport script from \"./BoardInviteMembersDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./BoardInviteMembersDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BoardInviteMembersDialog.vue?vue&type=style&index=0&id=2dab5698&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2dab5698\",\n  null\n  \n)\n\ncomponent.options.__file = \"BoardInviteMembersDialog.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"value\":_vm.isOpen,\"max-width\":\"525\",\"lazy\":\"\"},on:{\"input\":_vm.setOpen}},[_c('v-form',{ref:\"form\",staticClass:\"accent\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_c('v-card',[_c('v-alert',{staticClass:\"mb-2\",attrs:{\"value\":!_vm.checkUpdate() && !this.blnEditing,\"type\":\"error\"}},[_vm._v(\"\\n        Idea limit reached. New ideas are only visible to you.\\n        \"),_c('v-btn',{attrs:{\"color\":\"primary\",\"flat\":\"\"},on:{\"click\":_vm.gotoUpgrade}},[_c('h4',[_vm._v(\"UPGRADE\")])])],1),_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.blnEditing? \"Edit\" : \"New\")+\" Idea\")])]),_c('v-card-text',[(!_vm.currentBoard)?_c('v-select',{attrs:{\"items\":_vm.boardsOptions,\"rules\":[_vm.$rules.required()],\"autofocus\":!_vm.currentBoard,\"color\":\"accent\",\"label\":\"Board\",\"required\":\"\"},model:{value:(_vm.ideaModel.board),callback:function ($$v) {_vm.$set(_vm.ideaModel, \"board\", $$v)},expression:\"ideaModel.board\"}}):_vm._e(),_c('v-text-field',{attrs:{\"rules\":[_vm.$rules.required(), _vm.$rules.maxLength(120)],\"autofocus\":!!_vm.currentBoard,\"counter\":\"120\",\"color\":\"accent\",\"label\":\"Title\",\"required\":\"\"},model:{value:(_vm.ideaModel.title),callback:function ($$v) {_vm.$set(_vm.ideaModel, \"title\", $$v)},expression:\"ideaModel.title\"}}),_c('v-textarea',{attrs:{\"rules\":[_vm.$rules.maxLength(500)],\"auto-grow\":\"\",\"rows\":\"1\",\"counter\":\"500\",\"color\":\"accent\",\"label\":\"Description\"},model:{value:(_vm.ideaModel.description),callback:function ($$v) {_vm.$set(_vm.ideaModel, \"description\", $$v)},expression:\"ideaModel.description\"}}),_c('i-image-picker',{staticClass:\"mt-4\",attrs:{\"loading\":_vm.isImagePickerLoading},on:{\"update:loading\":function($event){_vm.isImagePickerLoading=$event}},model:{value:(_vm.ideaModel.images),callback:function ($$v) {_vm.$set(_vm.ideaModel, \"images\", $$v)},expression:\"ideaModel.images\"}})],1),_c('v-card-actions',{staticClass:\"justify-end\"},[_c('v-btn',{attrs:{\"color\":\"primary\",\"flat\":\"\"},on:{\"click\":_vm.canceled}},[_vm._v(\"Cancel\\n        \")]),_c('v-btn',{attrs:{\"loading\":_vm.isActionPending || _vm.isImagePickerLoading,\"type\":\"submit\",\"color\":\"accent\",\"flat\":\"\"}},[_vm._v(_vm._s(_vm.blnEditing? \"Save\" : \"Create\")+\"\\n        \")]),_c('p',[_vm._v(_vm._s(_vm.loggedInUser.ideasCount))])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog :value=\"isOpen\" max-width=\"525\" lazy @input=\"setOpen\">\n    <v-form ref=\"form\" class=\"accent\" @submit.prevent=\"submit\">\n      <!-- ruby test start -->\n      <v-card>\n        <v-alert\n          :value=\"!checkUpdate() && !this.blnEditing\"\n          class=\"mb-2\"\n          type=\"error\">\n          Idea limit reached. New ideas are only visible to you.\n          <v-btn color=\"primary\" flat @click=\"gotoUpgrade\"><h4>UPGRADE</h4>\n          </v-btn>\n        </v-alert>\n        <!-- ruby test end -->\n        <v-card-title primary-title>\n          <h3 class=\"title\">{{blnEditing? \"Edit\" : \"New\"}} Idea</h3>\n        </v-card-title>\n\n        <v-card-text>\n          <v-select v-if=\"!currentBoard\" v-model=\"ideaModel.board\" :items=\"boardsOptions\" :rules=\"[$rules.required()]\"\n            :autofocus=\"!currentBoard\" color=\"accent\" label=\"Board\" required />\n          <v-text-field v-model=\"ideaModel.title\" :rules=\"[$rules.required(), $rules.maxLength(120)]\"\n            :autofocus=\"!!currentBoard\" counter=\"120\" color=\"accent\" label=\"Title\"\n            required />\n          <!-- <v-textarea v-model=\"ideaModel.userStory\" :rules=\"[$rules.maxLength(170)]\" :hint=\"userStoryHint\"\n            auto-grow rows=\"1\" counter=\"170\" color=\"accent\" label=\"User Story\" required/> -->\n          <v-textarea v-model=\"ideaModel.description\" :rules=\"[$rules.maxLength(500)]\" auto-grow\n            rows=\"1\" counter=\"500\" color=\"accent\" label=\"Description\" />\n          <i-image-picker v-model=\"ideaModel.images\" :loading.sync=\"isImagePickerLoading\" class=\"mt-4\"/>\n        </v-card-text>\n        <v-card-actions class=\"justify-end\">\n          <v-btn color=\"primary\" flat @click=\"canceled\">Cancel\n          </v-btn>\n          <v-btn :loading=\"isActionPending || isImagePickerLoading\" type=\"submit\" color=\"accent\"\n            flat>{{blnEditing? \"Save\" : \"Create\"}}\n          </v-btn>\n          <!-- ruby test -->\n          <p>{{loggedInUser.ideasCount}}</p>\n        </v-card-actions>\n      </v-card>\n    </v-form>\n  </v-dialog>\n</template>\n\n<script>\nimport _ from \"lodash\";\nimport { mapActions, mapGetters, mapMutations, mapState } from \"vuex\";\nimport { get } from \"lodash\";\nimport { voteKinds } from \"@/constants\";\nimport BoardInviteMembersDialog from './BoardInviteMembersDialog';\n\nexport default {\n  name: \"IdeaCreateDialog\",\n  components: {\n    BoardInviteMembersDialog,\n  },\n  props: {\n    value: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n  data() {\n    return {\n      board: null,\n      title: null,\n      userStory: null,\n      description: null,\n      ideaModel: {},\n      images: [],\n\n      isImagePickerLoading: false,\n      userStoryHint: `As a <em><strong>user type</strong></em>, I need to <em><strong>do something</strong></em> so that I can <em><strong>realize a reward</strong></em>.`\n    };\n  },\n\n  computed: {\n    ...mapState(\"ui\", {\n      isOpen: \"isCreateIdeaDialogOpen\"\n    }),\n    ...mapState(\"actions\", [\"isActionPending\"]),\n    ...mapGetters(\"auth\", [\"loggedInUser\"]),\n    ...mapGetters(\"companies\", {\n      company: \"current\"\n    }),\n    ...mapGetters(\"boards\", {\n      currentBoard: \"current\",\n      boards: \"list\",\n      getUsers: \"getUsers\",\n    }),\n    // ruby test <\n    ...mapGetters(\"ideas\", {\n      trialIdeasCount: 'trialIdeasCount',\n    }),\n    ...mapState('ideas', {\n      ideasPagination: 'pagination'\n    }),\n    myIdeasCount () {\n      return get(this.ideasPagination, 'default.total', 0)\n    },\n    // ruby test >\n    blnEditing() {\n      return this.value && this.value._id ? true : false;\n    },\n    boardsOptions() {\n      return this.boards.map(board => {\n        return {\n          value: board._id,\n          text: board.name\n        };\n      });\n    },\n    idea() {\n      return {\n        company: this.company._id,\n        board: this.board || this.currentBoard,\n        title: this.title,\n        userStory: this.userStory,\n        description: this.description,\n        createdBy: this.loggedInUser._id\n      };\n    }\n  },\n  watch: {\n    isOpen(val) {\n      if (!val) {\n        this.$refs.form.reset();\n        this.images = [];\n      }\n    },\n    value(newVal, oldVal) {\n      console.log(\"ruby: watch test\", newVal , \" => \", oldVal);\n      if (newVal) { //ruby test del\n        this.initForm();\n      }\n    }\n  },\n  created() {\n    // this.ideaModel = _.cloneDeep(this.value)\n    console.log(\"ruby: here is created in Idea Create Dialog\");\n    this.initForm();\n    // ray test block for now console.log(this);\n  },\n  methods: {\n    ...mapMutations(\"ui\", {\n      setOpen: \"setCreateIdeaDialogOpen\"\n    }),\n    // ruby test <\n    ...mapMutations(\"snackbar\", {\n      showSnackbar: \"show\"\n    }),\n\n    ...mapMutations('ui', {\n      setInviteToBoardDialogOpen: 'setInviteToBoardDialogOpen'\n    }),\n\n    ...mapActions('ideas', {\n      patchIdea: 'patch'\n    }),\n\n    async gotoUpgrade() {\n      //this.$router.push({ name: \"upgrade\" });\n    },\n\n    checkUpdate() {\n      if(!this.loggedInUser.stripe) {\n        return false;\n      }\n\n      if(this.loggedInUser.stripe.plan == \"Free\") {\n        if(this.loggedInUser.ideasCount >= this.trialIdeasCount)\n        {\n          return false;\n        }\n        return true;\n      }else if(this.loggedInUser.stripe.plan == \"Premium\") {\n        return true;\n      }\n      return false;\n    },\n\n    // ruby test >\n    ...mapActions(\"uploads\", {\n      upload: \"create\"\n    }),\n    ...mapActions(\"ideas\", {\n      createIdea: \"create\",\n      patchIdea: \"patch\"\n    }),\n    ...mapActions(\"votes\", {\n      vote: \"create\"\n    }),\n    initForm() {\n      const _self = this;\n      const { Idea } = this.$FeathersVuex;\n\n      if (this.value instanceof Idea) {\n        this.ideaModel = new Idea(this.value).clone();// .clone()\n        console.log(\"ruby: here is Idea model clone check--if\", this.ideaModel);\n      } else {\n\n        let newCheck = -2;\n        if(this.loggedInUser.ideasCount < this.trialIdeasCount){\n          newCheck = 1;\n        }else if(this.loggedInUser.stripe && this.loggedInUser.stripe.plan != 'Free'){\n          newCheck = 2;\n        }\n\n        this.ideaModel = new Idea({\n          board: _self.currentBoard ? _self.currentBoard._id : undefined,\n          company: this.company._id,\n          createdBy: this.loggedInUser._id,\n          // ruby test < add check item to IDEA\n          check: newCheck,\n          // ruby test >\n        });\n      }\n    },\n    canceled() {\n      // this.ideaModel.reset();\n      this.setOpen(false);\n    },\n    async uploadImage(ideaId, data) {\n      let uploadRes = await this.$dispatchAction({\n        type: this.$actionTypes.UPLOAD_IMAGES,\n        payload: {\n          uri: data,\n          bucket: `${this.company._id}/ideas/${ideaId}`,\n          thumb: true\n        },\n        entity: this.company._id\n      });\n\n      return uploadRes.data;\n    },\n    async submit() {\n      console.log(\"ruby: idea create start! test for heroku\");\n      const form = this.$refs.form;\n      let id;\n      if (form.validate()) {\n        let flag = this.checkUpdate();\n        if (this.blnEditing) {\n          await this.ideaModel.save();\n          id = this.ideaModel._id;\n        } else {\n          const ideaRes = await this.createIdea(this.ideaModel);\n          id = get(ideaRes, \"data._id\");\n          await this.vote({\n            parent: id,\n            kind: voteKinds.ideas,\n            owner: this.loggedInUser._id,\n            voter: this.loggedInUser._id\n          });\n        }\n\n        // if there are any images, put them in a bucket with ideaId and patch the idea with the image urls\n        if (this.ideaModel.images.length) {\n          console.log(\"ruby: images exist\");\n          const imageUrls = [];\n          await Promise.all(\n            this.ideaModel.images.map(async image => {\n              if (image.data) {\n                const res = await this.uploadImage(id, image.data);\n                imageUrls.push(res);\n              } else {\n                imageUrls.push(image);\n              }\n            })\n          );\n\n          this.ideaModel.images = imageUrls;\n          console.log(\"ruby: ideaModel after\", this.ideaModel);\n\n\n          // await this.ideaModel.commit();\n          // this.ideaModel.save();\n          await this.patchIdea([id, {images: this.ideaModel.images}]);\n\n        }\n        console.log(\"ruby: count of users\", this.getUsers(this.currentBoard._id).length);\n        if(!this.blnEditing && this.getUsers(this.currentBoard._id).length == 1){\n          this.setInviteToBoardDialogOpen(true);// ruby test test\n        }\n        await this.setOpen(false);\n        \n\n        // ruby test <\n        let newUser = this.loggedInUser;\n        newUser.ideasCount = this.loggedInUser.ideasCount + 1;\n        // ruby test >\n        //let flag = this.checkUpdate();\n        if(!flag &&  !this.blnEditing){\n          this.showSnackbar({ color: \"error\", message: \"Warning! This will hide all ideas over the plan limit.\" });\n          //this.gotoUpgrade();\n        }\n        // ruby test >\n          this.$router.push({ name: \"idea\", params: { idea: id } });\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaCreateDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaCreateDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IdeaCreateDialog.vue?vue&type=template&id=072602cc&\"\nimport script from \"./IdeaCreateDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./IdeaCreateDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"IdeaCreateDialog.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"idea__meta\",attrs:{\"fluid\":\"\",\"pa-0\":\"\"}},[_c('i-user',{attrs:{\"user\":_vm.createdBy,\"muted\":\"\"}}),_c('div',{staticClass:\"idea__meta__comments px-3 u__truncate\"},[_vm._v(\"\\n    \"+_vm._s(_vm.idea.commentCount)+\" Comments\\n  \")]),_c('div',{staticClass:\"idea__meta__info u__truncate\"},[_vm._v(\"\\n    \"+_vm._s(_vm._f(\"formatDateFromNow\")(_vm.idea.createdAt))+\" \"),(_vm.board)?_c('span',[_vm._v(\" in \"+_vm._s(_vm.idea.board.name))]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    fluid\n    pa-0\n    class=\"idea__meta\">\n    <i-user\n      :user=\"createdBy\"\n      muted/>\n    <div class=\"idea__meta__comments px-3 u__truncate\">\n      {{ idea.commentCount }} Comments\n    </div>\n    <div class=\"idea__meta__info u__truncate\">\n      {{ idea.createdAt | formatDateFromNow }} <span v-if=\"board\"> in {{ idea.board.name }}</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nexport default {\n  name: 'IdeaMeta',\n  components: {},\n  props: {\n    idea: {\n      type: Object,\n      required: true,\n      default: () => {}\n    },\n    board: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    justifySpaceBetween: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  data () {\n    return {}\n  },\n  computed: {\n    ...mapGetters('users', {\n      getUser: 'get'\n    }),\n    createdBy () {\n      return this.getUser(this.idea.createdBy)\n    }\n  },\n  watch: {},\n  created () {},\n  methods: {}\n}\n</script>\n\n<style lang=\"stylus\">\n  @import \"~@/assets/stylus/settings/_variables\"\n\n  .idea__meta {\n    align-items: center\n    display: flex\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaMeta.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaMeta.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IdeaMeta.vue?vue&type=template&id=a66c1d98&\"\nimport script from \"./IdeaMeta.vue?vue&type=script&lang=js&\"\nexport * from \"./IdeaMeta.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IdeaMeta.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"IdeaMeta.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaCardImages.vue?vue&type=style&index=0&id=7269adf0&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdeaCardImages.vue?vue&type=style&index=0&id=7269adf0&lang=stylus&scoped=true&\""],"sourceRoot":""}